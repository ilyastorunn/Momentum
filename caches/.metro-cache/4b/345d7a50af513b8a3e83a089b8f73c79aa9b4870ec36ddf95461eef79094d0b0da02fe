{"dependencies":[{"name":"../currentScopes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"4IMzW1L9FGOQbFYVibN4P3pVG0E=","exportNames":["*"]}},{"name":"../exports.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":60},"end":{"line":2,"column":65,"index":125}}],"key":"PyiI6yM07W7J+gN2cHiTPsTCV4c=","exportNames":["*"]}},{"name":"../integration.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":54,"index":180}}],"key":"B8aKvpmafw58aWtupuC7GWTMiwo=","exportNames":["*"]}},{"name":"../utils-hoist/instrument/console.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":181},"end":{"line":4,"column":88,"index":269}}],"key":"Oojg+4BvqlqpuVM53eY8B2uJ1zw=","exportNames":["*"]}},{"name":"../utils-hoist/logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":270},"end":{"line":5,"column":58,"index":328}}],"key":"ntkLGOO3yQLxIuhQNqZB03aOwxw=","exportNames":["*"]}},{"name":"../utils-hoist/misc.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":329},"end":{"line":6,"column":63,"index":392}}],"key":"wwSfDYVKBTBksy1GF6UTQX6JR3I=","exportNames":["*"]}},{"name":"../utils-hoist/severity.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":393},"end":{"line":7,"column":69,"index":462}}],"key":"EhrgpNfZxnidWBh8boIyvbau6+s=","exportNames":["*"]}},{"name":"../utils-hoist/string.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":463},"end":{"line":8,"column":52,"index":515}}],"key":"VIkBXyaUAba9sYYSM7VCyUVEn5M=","exportNames":["*"]}},{"name":"../utils-hoist/worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":516},"end":{"line":9,"column":57,"index":573}}],"key":"3XwLTKWavtFq2Dntu5m8UVSo4Us=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.captureConsoleIntegration = void 0;\n  var _currentScopes = require(_dependencyMap[0], \"../currentScopes.js\");\n  var _exports = require(_dependencyMap[1], \"../exports.js\");\n  var _integration = require(_dependencyMap[2], \"../integration.js\");\n  var _console = require(_dependencyMap[3], \"../utils-hoist/instrument/console.js\");\n  var _logger = require(_dependencyMap[4], \"../utils-hoist/logger.js\");\n  var _misc = require(_dependencyMap[5], \"../utils-hoist/misc.js\");\n  var _severity = require(_dependencyMap[6], \"../utils-hoist/severity.js\");\n  var _string = require(_dependencyMap[7], \"../utils-hoist/string.js\");\n  var _worldwide = require(_dependencyMap[8], \"../utils-hoist/worldwide.js\");\n  const INTEGRATION_NAME = 'CaptureConsole';\n  const _captureConsoleIntegration = (options = {}) => {\n    const levels = options.levels || _logger.CONSOLE_LEVELS;\n    // TODO(v9): Flip default value to `true`\n    const handled = !!options.handled;\n    return {\n      name: INTEGRATION_NAME,\n      setup(client) {\n        if (!('console' in _worldwide.GLOBAL_OBJ)) {\n          return;\n        }\n        (0, _console.addConsoleInstrumentationHandler)(({\n          args,\n          level\n        }) => {\n          if ((0, _currentScopes.getClient)() !== client || !levels.includes(level)) {\n            return;\n          }\n          consoleHandler(args, level, handled);\n        });\n      }\n    };\n  };\n\n  /**\n   * Send Console API calls as Sentry Events.\n   */\n  const captureConsoleIntegration = exports.captureConsoleIntegration = (0, _integration.defineIntegration)(_captureConsoleIntegration);\n  function consoleHandler(args, level, handled) {\n    const captureContext = {\n      level: (0, _severity.severityLevelFromString)(level),\n      extra: {\n        arguments: args\n      }\n    };\n    (0, _currentScopes.withScope)(scope => {\n      scope.addEventProcessor(event => {\n        event.logger = 'console';\n        (0, _misc.addExceptionMechanism)(event, {\n          handled,\n          type: 'console'\n        });\n        return event;\n      });\n      if (level === 'assert') {\n        if (!args[0]) {\n          const message = `Assertion failed: ${(0, _string.safeJoin)(args.slice(1), ' ') || 'console.assert'}`;\n          scope.setExtra('arguments', args.slice(1));\n          (0, _exports.captureMessage)(message, captureContext);\n        }\n        return;\n      }\n      const error = args.find(arg => arg instanceof Error);\n      if (error) {\n        (0, _exports.captureException)(error, captureContext);\n        return;\n      }\n      const message = (0, _string.safeJoin)(args, ' ');\n      (0, _exports.captureMessage)(message, captureContext);\n    });\n  }\n});","lineCount":76,"map":[[6,2,1,0],[6,6,1,0,"_currentScopes"],[6,20,1,0],[6,23,1,0,"require"],[6,30,1,0],[6,31,1,0,"_dependencyMap"],[6,45,1,0],[7,2,2,0],[7,6,2,0,"_exports"],[7,14,2,0],[7,17,2,0,"require"],[7,24,2,0],[7,25,2,0,"_dependencyMap"],[7,39,2,0],[8,2,3,0],[8,6,3,0,"_integration"],[8,18,3,0],[8,21,3,0,"require"],[8,28,3,0],[8,29,3,0,"_dependencyMap"],[8,43,3,0],[9,2,4,0],[9,6,4,0,"_console"],[9,14,4,0],[9,17,4,0,"require"],[9,24,4,0],[9,25,4,0,"_dependencyMap"],[9,39,4,0],[10,2,5,0],[10,6,5,0,"_logger"],[10,13,5,0],[10,16,5,0,"require"],[10,23,5,0],[10,24,5,0,"_dependencyMap"],[10,38,5,0],[11,2,6,0],[11,6,6,0,"_misc"],[11,11,6,0],[11,14,6,0,"require"],[11,21,6,0],[11,22,6,0,"_dependencyMap"],[11,36,6,0],[12,2,7,0],[12,6,7,0,"_severity"],[12,15,7,0],[12,18,7,0,"require"],[12,25,7,0],[12,26,7,0,"_dependencyMap"],[12,40,7,0],[13,2,8,0],[13,6,8,0,"_string"],[13,13,8,0],[13,16,8,0,"require"],[13,23,8,0],[13,24,8,0,"_dependencyMap"],[13,38,8,0],[14,2,9,0],[14,6,9,0,"_worldwide"],[14,16,9,0],[14,19,9,0,"require"],[14,26,9,0],[14,27,9,0,"_dependencyMap"],[14,41,9,0],[15,2,11,0],[15,8,11,6,"INTEGRATION_NAME"],[15,24,11,22],[15,27,11,25],[15,43,11,41],[16,2,13,0],[16,8,13,6,"_captureConsoleIntegration"],[16,34,13,32],[16,37,13,36,"_captureConsoleIntegration"],[16,38,13,37,"options"],[16,45,13,44],[16,48,13,47],[16,49,13,48],[16,50,13,49],[16,55,13,54],[17,4,14,2],[17,10,14,8,"levels"],[17,16,14,14],[17,19,14,17,"options"],[17,26,14,24],[17,27,14,25,"levels"],[17,33,14,31],[17,37,14,35,"CONSOLE_LEVELS"],[17,59,14,49],[18,4,15,2],[19,4,16,2],[19,10,16,8,"handled"],[19,17,16,15],[19,20,16,18],[19,21,16,19],[19,22,16,20,"options"],[19,29,16,27],[19,30,16,28,"handled"],[19,37,16,35],[20,4,18,2],[20,11,18,9],[21,6,19,4,"name"],[21,10,19,8],[21,12,19,10,"INTEGRATION_NAME"],[21,28,19,26],[22,6,20,4,"setup"],[22,11,20,9,"setup"],[22,12,20,10,"client"],[22,18,20,16],[22,20,20,18],[23,8,21,6],[23,12,21,10],[23,14,21,12],[23,23,21,21],[23,27,21,25,"GLOBAL_OBJ"],[23,48,21,35],[23,49,21,36],[23,51,21,38],[24,10,22,8],[25,8,23,6],[26,8,25,6],[26,12,25,6,"addConsoleInstrumentationHandler"],[26,53,25,38],[26,55,25,39],[26,56,25,40],[27,10,25,42,"args"],[27,14,25,46],[28,10,25,48,"level"],[29,8,25,54],[29,9,25,55],[29,14,25,60],[30,10,26,8],[30,14,26,12],[30,18,26,12,"getClient"],[30,42,26,21],[30,44,26,22],[30,45,26,23],[30,50,26,28,"client"],[30,56,26,34],[30,60,26,38],[30,61,26,39,"levels"],[30,67,26,45],[30,68,26,46,"includes"],[30,76,26,54],[30,77,26,55,"level"],[30,82,26,60],[30,83,26,61],[30,85,26,63],[31,12,27,10],[32,10,28,8],[33,10,30,8,"consoleHandler"],[33,24,30,22],[33,25,30,23,"args"],[33,29,30,27],[33,31,30,29,"level"],[33,36,30,34],[33,38,30,36,"handled"],[33,45,30,43],[33,46,30,44],[34,8,31,6],[34,9,31,7],[34,10,31,8],[35,6,32,4],[36,4,33,2],[36,5,33,3],[37,2,34,0],[37,3,34,2],[39,2,36,0],[40,0,37,0],[41,0,38,0],[42,2,39,0],[42,8,39,6,"captureConsoleIntegration"],[42,33,39,31],[42,36,39,31,"exports"],[42,43,39,31],[42,44,39,31,"captureConsoleIntegration"],[42,69,39,31],[42,72,39,34],[42,76,39,34,"defineIntegration"],[42,106,39,51],[42,108,39,52,"_captureConsoleIntegration"],[42,134,39,78],[42,135,39,79],[43,2,41,0],[43,11,41,9,"consoleHandler"],[43,25,41,23,"consoleHandler"],[43,26,41,24,"args"],[43,30,41,28],[43,32,41,30,"level"],[43,37,41,35],[43,39,41,37,"handled"],[43,46,41,44],[43,48,41,46],[44,4,42,2],[44,10,42,8,"captureContext"],[44,24,42,22],[44,27,42,25],[45,6,43,4,"level"],[45,11,43,9],[45,13,43,11],[45,17,43,11,"severityLevelFromString"],[45,50,43,34],[45,52,43,35,"level"],[45,57,43,40],[45,58,43,41],[46,6,44,4,"extra"],[46,11,44,9],[46,13,44,11],[47,8,45,6,"arguments"],[47,17,45,15],[47,19,45,17,"args"],[48,6,46,4],[49,4,47,2],[49,5,47,3],[50,4,49,2],[50,8,49,2,"withScope"],[50,32,49,11],[50,34,49,12,"scope"],[50,39,49,17],[50,43,49,21],[51,6,50,4,"scope"],[51,11,50,9],[51,12,50,10,"addEventProcessor"],[51,29,50,27],[51,30,50,28,"event"],[51,35,50,33],[51,39,50,37],[52,8,51,6,"event"],[52,13,51,11],[52,14,51,12,"logger"],[52,20,51,18],[52,23,51,21],[52,32,51,30],[53,8,53,6],[53,12,53,6,"addExceptionMechanism"],[53,39,53,27],[53,41,53,28,"event"],[53,46,53,33],[53,48,53,35],[54,10,54,8,"handled"],[54,17,54,15],[55,10,55,8,"type"],[55,14,55,12],[55,16,55,14],[56,8,56,6],[56,9,56,7],[56,10,56,8],[57,8,58,6],[57,15,58,13,"event"],[57,20,58,18],[58,6,59,4],[58,7,59,5],[58,8,59,6],[59,6,61,4],[59,10,61,8,"level"],[59,15,61,13],[59,20,61,18],[59,28,61,26],[59,30,61,28],[60,8,62,6],[60,12,62,10],[60,13,62,11,"args"],[60,17,62,15],[60,18,62,16],[60,19,62,17],[60,20,62,18],[60,22,62,20],[61,10,63,8],[61,16,63,14,"message"],[61,23,63,21],[61,26,63,24],[61,47,63,45],[61,51,63,45,"safeJoin"],[61,67,63,53],[61,69,63,54,"args"],[61,73,63,58],[61,74,63,59,"slice"],[61,79,63,64],[61,80,63,65],[61,81,63,66],[61,82,63,67],[61,84,63,69],[61,87,63,72],[61,88,63,73],[61,92,63,77],[61,108,63,93],[61,110,63,95],[62,10,64,8,"scope"],[62,15,64,13],[62,16,64,14,"setExtra"],[62,24,64,22],[62,25,64,23],[62,36,64,34],[62,38,64,36,"args"],[62,42,64,40],[62,43,64,41,"slice"],[62,48,64,46],[62,49,64,47],[62,50,64,48],[62,51,64,49],[62,52,64,50],[63,10,65,8],[63,14,65,8,"captureMessage"],[63,37,65,22],[63,39,65,23,"message"],[63,46,65,30],[63,48,65,32,"captureContext"],[63,62,65,46],[63,63,65,47],[64,8,66,6],[65,8,67,6],[66,6,68,4],[67,6,70,4],[67,12,70,10,"error"],[67,17,70,15],[67,20,70,18,"args"],[67,24,70,22],[67,25,70,23,"find"],[67,29,70,27],[67,30,70,28,"arg"],[67,33,70,31],[67,37,70,35,"arg"],[67,40,70,38],[67,52,70,50,"Error"],[67,57,70,55],[67,58,70,56],[68,6,71,4],[68,10,71,8,"error"],[68,15,71,13],[68,17,71,15],[69,8,72,6],[69,12,72,6,"captureException"],[69,37,72,22],[69,39,72,23,"error"],[69,44,72,28],[69,46,72,30,"captureContext"],[69,60,72,44],[69,61,72,45],[70,8,73,6],[71,6,74,4],[72,6,76,4],[72,12,76,10,"message"],[72,19,76,17],[72,22,76,20],[72,26,76,20,"safeJoin"],[72,42,76,28],[72,44,76,29,"args"],[72,48,76,33],[72,50,76,35],[72,53,76,38],[72,54,76,39],[73,6,77,4],[73,10,77,4,"captureMessage"],[73,33,77,18],[73,35,77,19,"message"],[73,42,77,26],[73,44,77,28,"captureContext"],[73,58,77,42],[73,59,77,43],[74,4,78,2],[74,5,78,3],[74,6,78,4],[75,2,79,0],[76,0,79,1],[76,3]],"functionMap":{"names":["<global>","_captureConsoleIntegration","setup","addConsoleInstrumentationHandler$argument_0","consoleHandler","withScope$argument_0","scope.addEventProcessor$argument_0","args.find$argument_0"],"mappings":"AAA;oCCY;ICO;uCCK;ODM;KDC;CDE;AIO;YCQ;4BCC;KDS;4BEW,2BF;GDQ;CJC"}},"type":"js/module"}]}