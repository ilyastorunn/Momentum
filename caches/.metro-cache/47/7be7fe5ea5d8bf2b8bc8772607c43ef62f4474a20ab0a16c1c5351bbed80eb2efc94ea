{"dependencies":[{"name":"../../../types.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"How8xsoS0dUDpKnVy0jHSdmxOM4=","exportNames":["*"]}},{"name":"./onHidden.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":41,"index":85}}],"key":"jMxYG0qCUzQ5xC/izD0vNxgsljI=","exportNames":["*"]}},{"name":"./runOnce.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":39,"index":125}}],"key":"GeQjtXVIw/b4yQAGDTFWJH+9oF4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.whenIdle = void 0;\n  var _types = require(_dependencyMap[0], \"../../../types.js\");\n  var _onHidden = require(_dependencyMap[1], \"./onHidden.js\");\n  var _runOnce = require(_dependencyMap[2], \"./runOnce.js\");\n  /*\n   * Copyright 2024 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * Runs the passed callback during the next idle period, or immediately\n   * if the browser's visibility state is (or becomes) hidden.\n   */\n  const whenIdle = cb => {\n    const rIC = _types.WINDOW.requestIdleCallback || _types.WINDOW.setTimeout;\n    let handle = -1;\n    // eslint-disable-next-line no-param-reassign\n    cb = (0, _runOnce.runOnce)(cb);\n    // If the document is hidden, run the callback immediately, otherwise\n    // race an idle callback with the next `visibilitychange` event.\n    if (_types.WINDOW.document && _types.WINDOW.document.visibilityState === 'hidden') {\n      cb();\n    } else {\n      handle = rIC(cb);\n      (0, _onHidden.onHidden)(cb);\n    }\n    return handle;\n  };\n  exports.whenIdle = whenIdle;\n});","lineCount":45,"map":[[6,2,1,0],[6,6,1,0,"_types"],[6,12,1,0],[6,15,1,0,"require"],[6,22,1,0],[6,23,1,0,"_dependencyMap"],[6,37,1,0],[7,2,2,0],[7,6,2,0,"_onHidden"],[7,15,2,0],[7,18,2,0,"require"],[7,25,2,0],[7,26,2,0,"_dependencyMap"],[7,40,2,0],[8,2,3,0],[8,6,3,0,"_runOnce"],[8,14,3,0],[8,17,3,0,"require"],[8,24,3,0],[8,25,3,0,"_dependencyMap"],[8,39,3,0],[9,2,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,0,19,0],[25,2,22,0],[26,0,23,0],[27,0,24,0],[28,0,25,0],[29,2,26,0],[29,8,26,6,"whenIdle"],[29,16,26,14],[29,19,26,18,"cb"],[29,21,26,20],[29,25,26,25],[30,4,27,2],[30,10,27,8,"rIC"],[30,13,27,11],[30,16,27,14,"WINDOW"],[30,29,27,20],[30,30,27,21,"requestIdleCallback"],[30,49,27,40],[30,53,27,44,"WINDOW"],[30,66,27,50],[30,67,27,51,"setTimeout"],[30,77,27,61],[31,4,29,2],[31,8,29,6,"handle"],[31,14,29,12],[31,17,29,15],[31,18,29,16],[31,19,29,17],[32,4,30,2],[33,4,31,2,"cb"],[33,6,31,4],[33,9,31,7],[33,13,31,7,"runOnce"],[33,29,31,14],[33,31,31,15,"cb"],[33,33,31,17],[33,34,31,18],[34,4,32,2],[35,4,33,2],[36,4,34,2],[36,8,34,6,"WINDOW"],[36,21,34,12],[36,22,34,13,"document"],[36,30,34,21],[36,34,34,25,"WINDOW"],[36,47,34,31],[36,48,34,32,"document"],[36,56,34,40],[36,57,34,41,"visibilityState"],[36,72,34,56],[36,77,34,61],[36,85,34,69],[36,87,34,71],[37,6,35,4,"cb"],[37,8,35,6],[37,9,35,7],[37,10,35,8],[38,4,36,2],[38,5,36,3],[38,11,36,9],[39,6,37,4,"handle"],[39,12,37,10],[39,15,37,13,"rIC"],[39,18,37,16],[39,19,37,17,"cb"],[39,21,37,19],[39,22,37,20],[40,6,38,4],[40,10,38,4,"onHidden"],[40,28,38,12],[40,30,38,13,"cb"],[40,32,38,15],[40,33,38,16],[41,4,39,2],[42,4,40,2],[42,11,40,9,"handle"],[42,17,40,15],[43,2,41,0],[43,3,41,1],[44,2,41,2,"exports"],[44,9,41,2],[44,10,41,2,"whenIdle"],[44,18,41,2],[44,21,41,2,"whenIdle"],[44,29,41,2],[45,0,41,2],[45,3]],"functionMap":{"names":["<global>","whenIdle"],"mappings":"AAA;iBCyB;CDe"}},"type":"js/module"}]}