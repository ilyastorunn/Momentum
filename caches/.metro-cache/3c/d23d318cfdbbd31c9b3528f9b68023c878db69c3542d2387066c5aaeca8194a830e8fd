{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"]}},{"name":"../helpers.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":55},"end":{"line":2,"column":39,"index":94}}],"key":"xGB1RU1bemGAHq3E44EIR7oSA2c=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.lazyLoadIntegration = lazyLoadIntegration;\n  var _core = require(_dependencyMap[0], \"@sentry/core\");\n  var _helpers = require(_dependencyMap[1], \"../helpers.js\");\n  // This is a map of integration function method to bundle file name.\n  const LazyLoadableIntegrations = {\n    replayIntegration: 'replay',\n    replayCanvasIntegration: 'replay-canvas',\n    feedbackIntegration: 'feedback',\n    feedbackModalIntegration: 'feedback-modal',\n    feedbackScreenshotIntegration: 'feedback-screenshot',\n    captureConsoleIntegration: 'captureconsole',\n    contextLinesIntegration: 'contextlines',\n    linkedErrorsIntegration: 'linkederrors',\n    debugIntegration: 'debug',\n    dedupeIntegration: 'dedupe',\n    extraErrorDataIntegration: 'extraerrordata',\n    httpClientIntegration: 'httpclient',\n    reportingObserverIntegration: 'reportingobserver',\n    rewriteFramesIntegration: 'rewriteframes',\n    sessionTimingIntegration: 'sessiontiming',\n    browserProfilingIntegration: 'browserprofiling',\n    moduleMetadataIntegration: 'modulemetadata'\n  };\n  const WindowWithMaybeIntegration = _helpers.WINDOW;\n\n  /**\n   * Lazy load an integration from the CDN.\n   * Rejects if the integration cannot be loaded.\n   */\n  async function lazyLoadIntegration(name, scriptNonce) {\n    const bundle = LazyLoadableIntegrations[name];\n\n    // `window.Sentry` is only set when using a CDN bundle, but this method can also be used via the NPM package\n    const sentryOnWindow = WindowWithMaybeIntegration.Sentry = WindowWithMaybeIntegration.Sentry || {};\n    if (!bundle) {\n      throw new Error(`Cannot lazy load integration: ${name}`);\n    }\n\n    // Bail if the integration already exists\n    const existing = sentryOnWindow[name];\n    // The `feedbackIntegration` is loaded by default in the CDN bundles,\n    // so we need to differentiate between the real integration and the shim.\n    // if only the shim exists, we still want to lazy load the real integration.\n    if (typeof existing === 'function' && !('_isShim' in existing)) {\n      return existing;\n    }\n    const url = getScriptURL(bundle);\n    const script = _helpers.WINDOW.document.createElement('script');\n    script.src = url;\n    script.crossOrigin = 'anonymous';\n    script.referrerPolicy = 'origin';\n    if (scriptNonce) {\n      script.setAttribute('nonce', scriptNonce);\n    }\n    const waitForLoad = new Promise((resolve, reject) => {\n      script.addEventListener('load', () => resolve());\n      script.addEventListener('error', reject);\n    });\n    const currentScript = _helpers.WINDOW.document.currentScript;\n    const parent = _helpers.WINDOW.document.body || _helpers.WINDOW.document.head || currentScript && currentScript.parentElement;\n    if (parent) {\n      parent.appendChild(script);\n    } else {\n      throw new Error(`Could not find parent element to insert lazy-loaded ${name} script`);\n    }\n    try {\n      await waitForLoad;\n    } catch (e) {\n      throw new Error(`Error when loading integration: ${name}`);\n    }\n    const integrationFn = sentryOnWindow[name];\n    if (typeof integrationFn !== 'function') {\n      throw new Error(`Could not load integration: ${name}`);\n    }\n    return integrationFn;\n  }\n  function getScriptURL(bundle) {\n    const client = (0, _core.getClient)();\n    const options = client && client.getOptions();\n    const baseURL = options && options.cdnBaseUrl || 'https://browser.sentry-cdn.com';\n    return new URL(`/${_core.SDK_VERSION}/${bundle}.min.js`, baseURL).toString();\n  }\n});","lineCount":87,"map":[[6,2,1,0],[6,6,1,0,"_core"],[6,11,1,0],[6,14,1,0,"require"],[6,21,1,0],[6,22,1,0,"_dependencyMap"],[6,36,1,0],[7,2,2,0],[7,6,2,0,"_helpers"],[7,14,2,0],[7,17,2,0,"require"],[7,24,2,0],[7,25,2,0,"_dependencyMap"],[7,39,2,0],[8,2,4,0],[9,2,5,0],[9,8,5,6,"LazyLoadableIntegrations"],[9,32,5,30],[9,35,5,33],[10,4,6,2,"replayIntegration"],[10,21,6,19],[10,23,6,21],[10,31,6,29],[11,4,7,2,"replayCanvasIntegration"],[11,27,7,25],[11,29,7,27],[11,44,7,42],[12,4,8,2,"feedbackIntegration"],[12,23,8,21],[12,25,8,23],[12,35,8,33],[13,4,9,2,"feedbackModalIntegration"],[13,28,9,26],[13,30,9,28],[13,46,9,44],[14,4,10,2,"feedbackScreenshotIntegration"],[14,33,10,31],[14,35,10,33],[14,56,10,54],[15,4,11,2,"captureConsoleIntegration"],[15,29,11,27],[15,31,11,29],[15,47,11,45],[16,4,12,2,"contextLinesIntegration"],[16,27,12,25],[16,29,12,27],[16,43,12,41],[17,4,13,2,"linkedErrorsIntegration"],[17,27,13,25],[17,29,13,27],[17,43,13,41],[18,4,14,2,"debugIntegration"],[18,20,14,18],[18,22,14,20],[18,29,14,27],[19,4,15,2,"dedupeIntegration"],[19,21,15,19],[19,23,15,21],[19,31,15,29],[20,4,16,2,"extraErrorDataIntegration"],[20,29,16,27],[20,31,16,29],[20,47,16,45],[21,4,17,2,"httpClientIntegration"],[21,25,17,23],[21,27,17,25],[21,39,17,37],[22,4,18,2,"reportingObserverIntegration"],[22,32,18,30],[22,34,18,32],[22,53,18,51],[23,4,19,2,"rewriteFramesIntegration"],[23,28,19,26],[23,30,19,28],[23,45,19,43],[24,4,20,2,"sessionTimingIntegration"],[24,28,20,26],[24,30,20,28],[24,45,20,43],[25,4,21,2,"browserProfilingIntegration"],[25,31,21,29],[25,33,21,31],[25,51,21,49],[26,4,22,2,"moduleMetadataIntegration"],[26,29,22,27],[26,31,22,29],[27,2,23,0],[27,3,23,1],[28,2,25,0],[28,8,25,6,"WindowWithMaybeIntegration"],[28,34,25,32],[28,37,25,35,"WINDOW"],[28,52,25,41],[30,2,29,0],[31,0,30,0],[32,0,31,0],[33,0,32,0],[34,2,33,0],[34,17,33,15,"lazyLoadIntegration"],[34,36,33,34,"lazyLoadIntegration"],[34,37,34,2,"name"],[34,41,34,6],[34,43,35,2,"scriptNonce"],[34,54,35,13],[34,56,36,2],[35,4,37,2],[35,10,37,8,"bundle"],[35,16,37,14],[35,19,37,17,"LazyLoadableIntegrations"],[35,43,37,41],[35,44,37,42,"name"],[35,48,37,46],[35,49,37,47],[37,4,39,2],[38,4,40,2],[38,10,40,8,"sentryOnWindow"],[38,24,40,22],[38,27,40,26,"WindowWithMaybeIntegration"],[38,53,40,52],[38,54,40,53,"Sentry"],[38,60,40,59],[38,63,40,62,"WindowWithMaybeIntegration"],[38,89,40,88],[38,90,40,89,"Sentry"],[38,96,40,95],[38,100,40,99],[38,101,40,100],[38,102,40,102],[39,4,42,2],[39,8,42,6],[39,9,42,7,"bundle"],[39,15,42,13],[39,17,42,15],[40,6,43,4],[40,12,43,10],[40,16,43,14,"Error"],[40,21,43,19],[40,22,43,20],[40,55,43,53,"name"],[40,59,43,57],[40,61,43,59],[40,62,43,60],[41,4,44,2],[43,4,46,2],[44,4,47,2],[44,10,47,8,"existing"],[44,18,47,16],[44,21,47,19,"sentryOnWindow"],[44,35,47,33],[44,36,47,34,"name"],[44,40,47,38],[44,41,47,39],[45,4,48,2],[46,4,49,2],[47,4,50,2],[48,4,51,2],[48,8,51,6],[48,15,51,13,"existing"],[48,23,51,21],[48,28,51,26],[48,38,51,36],[48,42,51,40],[48,44,51,42],[48,53,51,51],[48,57,51,55,"existing"],[48,65,51,63],[48,66,51,64],[48,68,51,66],[49,6,52,4],[49,13,52,11,"existing"],[49,21,52,19],[50,4,53,2],[51,4,55,2],[51,10,55,8,"url"],[51,13,55,11],[51,16,55,14,"getScriptURL"],[51,28,55,26],[51,29,55,27,"bundle"],[51,35,55,33],[51,36,55,34],[52,4,56,2],[52,10,56,8,"script"],[52,16,56,14],[52,19,56,17,"WINDOW"],[52,34,56,23],[52,35,56,24,"document"],[52,43,56,32],[52,44,56,33,"createElement"],[52,57,56,46],[52,58,56,47],[52,66,56,55],[52,67,56,56],[53,4,57,2,"script"],[53,10,57,8],[53,11,57,9,"src"],[53,14,57,12],[53,17,57,15,"url"],[53,20,57,18],[54,4,58,2,"script"],[54,10,58,8],[54,11,58,9,"crossOrigin"],[54,22,58,20],[54,25,58,23],[54,36,58,34],[55,4,59,2,"script"],[55,10,59,8],[55,11,59,9,"referrerPolicy"],[55,25,59,23],[55,28,59,26],[55,36,59,34],[56,4,61,2],[56,8,61,6,"scriptNonce"],[56,19,61,17],[56,21,61,19],[57,6,62,4,"script"],[57,12,62,10],[57,13,62,11,"setAttribute"],[57,25,62,23],[57,26,62,24],[57,33,62,31],[57,35,62,33,"scriptNonce"],[57,46,62,44],[57,47,62,45],[58,4,63,2],[59,4,65,2],[59,10,65,8,"waitForLoad"],[59,21,65,19],[59,24,65,22],[59,28,65,26,"Promise"],[59,35,65,33],[59,36,65,34],[59,37,65,35,"resolve"],[59,44,65,42],[59,46,65,44,"reject"],[59,52,65,50],[59,57,65,55],[60,6,66,4,"script"],[60,12,66,10],[60,13,66,11,"addEventListener"],[60,29,66,27],[60,30,66,28],[60,36,66,34],[60,38,66,36],[60,44,66,42,"resolve"],[60,51,66,49],[60,52,66,50],[60,53,66,51],[60,54,66,52],[61,6,67,4,"script"],[61,12,67,10],[61,13,67,11,"addEventListener"],[61,29,67,27],[61,30,67,28],[61,37,67,35],[61,39,67,37,"reject"],[61,45,67,43],[61,46,67,44],[62,4,68,2],[62,5,68,3],[62,6,68,4],[63,4,70,2],[63,10,70,8,"currentScript"],[63,23,70,21],[63,26,70,24,"WINDOW"],[63,41,70,30],[63,42,70,31,"document"],[63,50,70,39],[63,51,70,40,"currentScript"],[63,64,70,53],[64,4,71,2],[64,10,71,8,"parent"],[64,16,71,14],[64,19,71,17,"WINDOW"],[64,34,71,23],[64,35,71,24,"document"],[64,43,71,32],[64,44,71,33,"body"],[64,48,71,37],[64,52,71,41,"WINDOW"],[64,67,71,47],[64,68,71,48,"document"],[64,76,71,56],[64,77,71,57,"head"],[64,81,71,61],[64,85,71,66,"currentScript"],[64,98,71,79],[64,102,71,83,"currentScript"],[64,115,71,96],[64,116,71,97,"parentElement"],[64,129,71,111],[65,4,73,2],[65,8,73,6,"parent"],[65,14,73,12],[65,16,73,14],[66,6,74,4,"parent"],[66,12,74,10],[66,13,74,11,"appendChild"],[66,24,74,22],[66,25,74,23,"script"],[66,31,74,29],[66,32,74,30],[67,4,75,2],[67,5,75,3],[67,11,75,9],[68,6,76,4],[68,12,76,10],[68,16,76,14,"Error"],[68,21,76,19],[68,22,76,20],[68,77,76,75,"name"],[68,81,76,79],[68,90,76,88],[68,91,76,89],[69,4,77,2],[70,4,79,2],[70,8,79,6],[71,6,80,4],[71,12,80,10,"waitForLoad"],[71,23,80,21],[72,4,81,2],[72,5,81,3],[72,6,81,4],[72,13,81,11,"e"],[72,14,81,12],[72,16,81,14],[73,6,82,4],[73,12,82,10],[73,16,82,14,"Error"],[73,21,82,19],[73,22,82,20],[73,57,82,55,"name"],[73,61,82,59],[73,63,82,61],[73,64,82,62],[74,4,83,2],[75,4,85,2],[75,10,85,8,"integrationFn"],[75,23,85,21],[75,26,85,24,"sentryOnWindow"],[75,40,85,38],[75,41,85,39,"name"],[75,45,85,43],[75,46,85,44],[76,4,87,2],[76,8,87,6],[76,15,87,13,"integrationFn"],[76,28,87,26],[76,33,87,31],[76,43,87,41],[76,45,87,43],[77,6,88,4],[77,12,88,10],[77,16,88,14,"Error"],[77,21,88,19],[77,22,88,20],[77,53,88,51,"name"],[77,57,88,55],[77,59,88,57],[77,60,88,58],[78,4,89,2],[79,4,91,2],[79,11,91,9,"integrationFn"],[79,24,91,22],[80,2,92,0],[81,2,94,0],[81,11,94,9,"getScriptURL"],[81,23,94,21,"getScriptURL"],[81,24,94,22,"bundle"],[81,30,94,28],[81,32,94,30],[82,4,95,2],[82,10,95,8,"client"],[82,16,95,14],[82,19,95,17],[82,23,95,17,"getClient"],[82,38,95,26],[82,40,95,27],[82,41,95,28],[83,4,96,2],[83,10,96,8,"options"],[83,17,96,15],[83,20,96,18,"client"],[83,26,96,24],[83,30,96,28,"client"],[83,36,96,34],[83,37,96,35,"getOptions"],[83,47,96,45],[83,48,96,46],[83,49,96,47],[84,4,97,2],[84,10,97,8,"baseURL"],[84,17,97,15],[84,20,97,19,"options"],[84,27,97,26],[84,31,97,30,"options"],[84,38,97,37],[84,39,97,38,"cdnBaseUrl"],[84,49,97,48],[84,53,97,53],[84,85,97,85],[85,4,99,2],[85,11,99,9],[85,15,99,13,"URL"],[85,18,99,16],[85,19,99,17],[85,23,99,21,"SDK_VERSION"],[85,40,99,32],[85,44,99,36,"bundle"],[85,50,99,42],[85,59,99,51],[85,61,99,53,"baseURL"],[85,68,99,60],[85,69,99,61],[85,70,99,62,"toString"],[85,78,99,70],[85,79,99,71],[85,80,99,72],[86,2,100,0],[87,0,100,1],[87,3]],"functionMap":{"names":["<global>","lazyLoadIntegration","Promise$argument_0","script.addEventListener$argument_1","getScriptURL"],"mappings":"AAA;ACgC;kCCgC;oCCC,eD;GDE;CDwB;AIE;CJM"}},"type":"js/module"}]}