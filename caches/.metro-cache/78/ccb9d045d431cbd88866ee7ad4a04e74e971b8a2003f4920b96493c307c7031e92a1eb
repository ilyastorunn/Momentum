{"dependencies":[{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":681},"end":{"line":10,"column":36,"index":717}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.nativeReleaseIntegration = void 0;\n  var _wrapper = require(_dependencyMap[0], \"../wrapper\");\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  const INTEGRATION_NAME = 'Release';\n  /** Release integration responsible to load release from file. */\n  const nativeReleaseIntegration = () => {\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce: () => {\n        // noop\n      },\n      processEvent\n    };\n  };\n  exports.nativeReleaseIntegration = nativeReleaseIntegration;\n  function processEvent(event, _, client) {\n    var _a, _b;\n    return __awaiter(this, void 0, void 0, function* () {\n      const options = client.getOptions();\n      /*\n        __sentry_release and __sentry_dist is set by the user with setRelease and setDist. If this is used then this is the strongest.\n        Otherwise we check for the release and dist in the options passed on init, as this is stronger than the release/dist from the native build.\n      */\n      if (typeof ((_a = event.extra) === null || _a === void 0 ? void 0 : _a.__sentry_release) === 'string') {\n        event.release = `${event.extra.__sentry_release}`;\n      } else if (typeof (options === null || options === void 0 ? void 0 : options.release) === 'string') {\n        event.release = options.release;\n      }\n      if (typeof ((_b = event.extra) === null || _b === void 0 ? void 0 : _b.__sentry_dist) === 'string') {\n        event.dist = `${event.extra.__sentry_dist}`;\n      } else if (typeof (options === null || options === void 0 ? void 0 : options.dist) === 'string') {\n        event.dist = options.dist;\n      }\n      if (event.release && event.dist) {\n        return event;\n      }\n      try {\n        const nativeRelease = yield _wrapper.NATIVE.fetchNativeRelease();\n        if (nativeRelease) {\n          if (!event.release) {\n            event.release = `${nativeRelease.id}@${nativeRelease.version}+${nativeRelease.build}`;\n          }\n          if (!event.dist) {\n            event.dist = `${nativeRelease.build}`;\n          }\n        }\n      } catch (_Oo) {\n        // Something went wrong, we just continue\n      }\n      return event;\n    });\n  }\n});","lineCount":83,"map":[[6,2,10,0],[6,6,10,0,"_wrapper"],[6,14,10,0],[6,17,10,0,"require"],[6,24,10,0],[6,25,10,0,"_dependencyMap"],[6,39,10,0],[7,2,1,0],[7,6,1,4,"__awaiter"],[7,15,1,13],[7,18,1,17],[7,22,1,21],[7,26,1,25],[7,30,1,29],[7,31,1,30,"__awaiter"],[7,40,1,39],[7,44,1,44],[7,54,1,54,"thisArg"],[7,61,1,61],[7,63,1,63,"_arguments"],[7,73,1,73],[7,75,1,75,"P"],[7,76,1,76],[7,78,1,78,"generator"],[7,87,1,87],[7,89,1,89],[8,4,2,4],[8,13,2,13,"adopt"],[8,18,2,18,"adopt"],[8,19,2,19,"value"],[8,24,2,24],[8,26,2,26],[9,6,2,28],[9,13,2,35,"value"],[9,18,2,40],[9,30,2,52,"P"],[9,31,2,53],[9,34,2,56,"value"],[9,39,2,61],[9,42,2,64],[9,46,2,68,"P"],[9,47,2,69],[9,48,2,70],[9,58,2,80,"resolve"],[9,65,2,87],[9,67,2,89],[10,8,2,91,"resolve"],[10,15,2,98],[10,16,2,99,"value"],[10,21,2,104],[10,22,2,105],[11,6,2,107],[11,7,2,108],[11,8,2,109],[12,4,2,111],[13,4,3,4],[13,11,3,11],[13,16,3,16,"P"],[13,17,3,17],[13,22,3,22,"P"],[13,23,3,23],[13,26,3,26,"Promise"],[13,33,3,33],[13,34,3,34],[13,36,3,36],[13,46,3,46,"resolve"],[13,53,3,53],[13,55,3,55,"reject"],[13,61,3,61],[13,63,3,63],[14,6,4,8],[14,15,4,17,"fulfilled"],[14,24,4,26,"fulfilled"],[14,25,4,27,"value"],[14,30,4,32],[14,32,4,34],[15,8,4,36],[15,12,4,40],[16,10,4,42,"step"],[16,14,4,46],[16,15,4,47,"generator"],[16,24,4,56],[16,25,4,57,"next"],[16,29,4,61],[16,30,4,62,"value"],[16,35,4,67],[16,36,4,68],[16,37,4,69],[17,8,4,71],[17,9,4,72],[17,10,4,73],[17,17,4,80,"e"],[17,18,4,81],[17,20,4,83],[18,10,4,85,"reject"],[18,16,4,91],[18,17,4,92,"e"],[18,18,4,93],[18,19,4,94],[19,8,4,96],[20,6,4,98],[21,6,5,8],[21,15,5,17,"rejected"],[21,23,5,25,"rejected"],[21,24,5,26,"value"],[21,29,5,31],[21,31,5,33],[22,8,5,35],[22,12,5,39],[23,10,5,41,"step"],[23,14,5,45],[23,15,5,46,"generator"],[23,24,5,55],[23,25,5,56],[23,32,5,63],[23,33,5,64],[23,34,5,65,"value"],[23,39,5,70],[23,40,5,71],[23,41,5,72],[24,8,5,74],[24,9,5,75],[24,10,5,76],[24,17,5,83,"e"],[24,18,5,84],[24,20,5,86],[25,10,5,88,"reject"],[25,16,5,94],[25,17,5,95,"e"],[25,18,5,96],[25,19,5,97],[26,8,5,99],[27,6,5,101],[28,6,6,8],[28,15,6,17,"step"],[28,19,6,21,"step"],[28,20,6,22,"result"],[28,26,6,28],[28,28,6,30],[29,8,6,32,"result"],[29,14,6,38],[29,15,6,39,"done"],[29,19,6,43],[29,22,6,46,"resolve"],[29,29,6,53],[29,30,6,54,"result"],[29,36,6,60],[29,37,6,61,"value"],[29,42,6,66],[29,43,6,67],[29,46,6,70,"adopt"],[29,51,6,75],[29,52,6,76,"result"],[29,58,6,82],[29,59,6,83,"value"],[29,64,6,88],[29,65,6,89],[29,66,6,90,"then"],[29,70,6,94],[29,71,6,95,"fulfilled"],[29,80,6,104],[29,82,6,106,"rejected"],[29,90,6,114],[29,91,6,115],[30,6,6,117],[31,6,7,8,"step"],[31,10,7,12],[31,11,7,13],[31,12,7,14,"generator"],[31,21,7,23],[31,24,7,26,"generator"],[31,33,7,35],[31,34,7,36,"apply"],[31,39,7,41],[31,40,7,42,"thisArg"],[31,47,7,49],[31,49,7,51,"_arguments"],[31,59,7,61],[31,63,7,65],[31,65,7,67],[31,66,7,68],[31,68,7,70,"next"],[31,72,7,74],[31,73,7,75],[31,74,7,76],[31,75,7,77],[32,4,8,4],[32,5,8,5],[32,6,8,6],[33,2,9,0],[33,3,9,1],[34,2,11,0],[34,8,11,6,"INTEGRATION_NAME"],[34,24,11,22],[34,27,11,25],[34,36,11,34],[35,2,12,0],[36,2,13,7],[36,8,13,13,"nativeReleaseIntegration"],[36,32,13,37],[36,35,13,40,"nativeReleaseIntegration"],[36,36,13,40],[36,41,13,46],[37,4,14,4],[37,11,14,11],[38,6,15,8,"name"],[38,10,15,12],[38,12,15,14,"INTEGRATION_NAME"],[38,28,15,30],[39,6,16,8,"setupOnce"],[39,15,16,17],[39,17,16,19,"setupOnce"],[39,18,16,19],[39,23,16,25],[40,8,17,12],[41,6,17,12],[41,7,18,9],[42,6,19,8,"processEvent"],[43,4,20,4],[43,5,20,5],[44,2,21,0],[44,3,21,1],[45,2,21,2,"exports"],[45,9,21,2],[45,10,21,2,"nativeReleaseIntegration"],[45,34,21,2],[45,37,21,2,"nativeReleaseIntegration"],[45,61,21,2],[46,2,22,0],[46,11,22,9,"processEvent"],[46,23,22,21,"processEvent"],[46,24,22,22,"event"],[46,29,22,27],[46,31,22,29,"_"],[46,32,22,30],[46,34,22,32,"client"],[46,40,22,38],[46,42,22,40],[47,4,23,4],[47,8,23,8,"_a"],[47,10,23,10],[47,12,23,12,"_b"],[47,14,23,14],[48,4,24,4],[48,11,24,11,"__awaiter"],[48,20,24,20],[48,21,24,21],[48,25,24,25],[48,27,24,27],[48,32,24,32],[48,33,24,33],[48,35,24,35],[48,40,24,40],[48,41,24,41],[48,43,24,43],[48,56,24,56],[49,6,25,8],[49,12,25,14,"options"],[49,19,25,21],[49,22,25,24,"client"],[49,28,25,30],[49,29,25,31,"getOptions"],[49,39,25,41],[49,40,25,42],[49,41,25,43],[50,6,26,8],[51,0,27,0],[52,0,28,0],[53,0,29,0],[54,6,30,8],[54,10,30,12],[54,18,30,20],[54,19,30,21,"_a"],[54,21,30,23],[54,24,30,26,"event"],[54,29,30,31],[54,30,30,32,"extra"],[54,35,30,37],[54,41,30,43],[54,45,30,47],[54,49,30,51,"_a"],[54,51,30,53],[54,56,30,58],[54,61,30,63],[54,62,30,64],[54,65,30,67],[54,70,30,72],[54,71,30,73],[54,74,30,76,"_a"],[54,76,30,78],[54,77,30,79,"__sentry_release"],[54,93,30,95],[54,94,30,96],[54,99,30,101],[54,107,30,109],[54,109,30,111],[55,8,31,12,"event"],[55,13,31,17],[55,14,31,18,"release"],[55,21,31,25],[55,24,31,28],[55,27,31,31,"event"],[55,32,31,36],[55,33,31,37,"extra"],[55,38,31,42],[55,39,31,43,"__sentry_release"],[55,55,31,59],[55,57,31,61],[56,6,32,8],[56,7,32,9],[56,13,33,13],[56,17,33,17],[56,25,33,25,"options"],[56,32,33,32],[56,37,33,37],[56,41,33,41],[56,45,33,45,"options"],[56,52,33,52],[56,57,33,57],[56,62,33,62],[56,63,33,63],[56,66,33,66],[56,71,33,71],[56,72,33,72],[56,75,33,75,"options"],[56,82,33,82],[56,83,33,83,"release"],[56,90,33,90],[56,91,33,91],[56,96,33,96],[56,104,33,104],[56,106,33,106],[57,8,34,12,"event"],[57,13,34,17],[57,14,34,18,"release"],[57,21,34,25],[57,24,34,28,"options"],[57,31,34,35],[57,32,34,36,"release"],[57,39,34,43],[58,6,35,8],[59,6,36,8],[59,10,36,12],[59,18,36,20],[59,19,36,21,"_b"],[59,21,36,23],[59,24,36,26,"event"],[59,29,36,31],[59,30,36,32,"extra"],[59,35,36,37],[59,41,36,43],[59,45,36,47],[59,49,36,51,"_b"],[59,51,36,53],[59,56,36,58],[59,61,36,63],[59,62,36,64],[59,65,36,67],[59,70,36,72],[59,71,36,73],[59,74,36,76,"_b"],[59,76,36,78],[59,77,36,79,"__sentry_dist"],[59,90,36,92],[59,91,36,93],[59,96,36,98],[59,104,36,106],[59,106,36,108],[60,8,37,12,"event"],[60,13,37,17],[60,14,37,18,"dist"],[60,18,37,22],[60,21,37,25],[60,24,37,28,"event"],[60,29,37,33],[60,30,37,34,"extra"],[60,35,37,39],[60,36,37,40,"__sentry_dist"],[60,49,37,53],[60,51,37,55],[61,6,38,8],[61,7,38,9],[61,13,39,13],[61,17,39,17],[61,25,39,25,"options"],[61,32,39,32],[61,37,39,37],[61,41,39,41],[61,45,39,45,"options"],[61,52,39,52],[61,57,39,57],[61,62,39,62],[61,63,39,63],[61,66,39,66],[61,71,39,71],[61,72,39,72],[61,75,39,75,"options"],[61,82,39,82],[61,83,39,83,"dist"],[61,87,39,87],[61,88,39,88],[61,93,39,93],[61,101,39,101],[61,103,39,103],[62,8,40,12,"event"],[62,13,40,17],[62,14,40,18,"dist"],[62,18,40,22],[62,21,40,25,"options"],[62,28,40,32],[62,29,40,33,"dist"],[62,33,40,37],[63,6,41,8],[64,6,42,8],[64,10,42,12,"event"],[64,15,42,17],[64,16,42,18,"release"],[64,23,42,25],[64,27,42,29,"event"],[64,32,42,34],[64,33,42,35,"dist"],[64,37,42,39],[64,39,42,41],[65,8,43,12],[65,15,43,19,"event"],[65,20,43,24],[66,6,44,8],[67,6,45,8],[67,10,45,12],[68,8,46,12],[68,14,46,18,"nativeRelease"],[68,27,46,31],[68,30,46,34],[68,36,46,40,"NATIVE"],[68,51,46,46],[68,52,46,47,"fetchNativeRelease"],[68,70,46,65],[68,71,46,66],[68,72,46,67],[69,8,47,12],[69,12,47,16,"nativeRelease"],[69,25,47,29],[69,27,47,31],[70,10,48,16],[70,14,48,20],[70,15,48,21,"event"],[70,20,48,26],[70,21,48,27,"release"],[70,28,48,34],[70,30,48,36],[71,12,49,20,"event"],[71,17,49,25],[71,18,49,26,"release"],[71,25,49,33],[71,28,49,36],[71,31,49,39,"nativeRelease"],[71,44,49,52],[71,45,49,53,"id"],[71,47,49,55],[71,51,49,59,"nativeRelease"],[71,64,49,72],[71,65,49,73,"version"],[71,72,49,80],[71,76,49,84,"nativeRelease"],[71,89,49,97],[71,90,49,98,"build"],[71,95,49,103],[71,97,49,105],[72,10,50,16],[73,10,51,16],[73,14,51,20],[73,15,51,21,"event"],[73,20,51,26],[73,21,51,27,"dist"],[73,25,51,31],[73,27,51,33],[74,12,52,20,"event"],[74,17,52,25],[74,18,52,26,"dist"],[74,22,52,30],[74,25,52,33],[74,28,52,36,"nativeRelease"],[74,41,52,49],[74,42,52,50,"build"],[74,47,52,55],[74,49,52,57],[75,10,53,16],[76,8,54,12],[77,6,55,8],[77,7,55,9],[77,8,56,8],[77,15,56,15,"_Oo"],[77,18,56,18],[77,20,56,20],[78,8,57,12],[79,6,57,12],[80,6,59,8],[80,13,59,15,"event"],[80,18,59,20],[81,4,60,4],[81,5,60,5],[81,6,60,6],[82,2,61,0],[83,0,61,1],[83,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","nativeReleaseIntegration","setupOnce","processEvent","__awaiter$argument_3"],"mappings":"AAA,4CC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;wCOI;mBCG;SDE;CPG;ASC;2CCE;KDoC;CTC"}},"type":"js/module"}]}