{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":681},"end":{"line":10,"column":38,"index":719}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"]}},{"name":"../utils/rnlibraries","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":720},"end":{"line":11,"column":60,"index":780}}],"key":"fGrlZFgrYQrfU1K4tN9OULy4C5Q=","exportNames":["*"]}},{"name":"../utils/xhr","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":781},"end":{"line":12,"column":69,"index":850}}],"key":"vOZixZXnOl9wEw9+pZF/CmKTIq4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fetchSourceContext = fetchSourceContext;\n  exports.getDevServer = getDevServer;\n  exports.parseErrorStack = parseErrorStack;\n  exports.symbolicateStackTrace = symbolicateStackTrace;\n  var _core = require(_dependencyMap[0], \"@sentry/core\");\n  var _rnlibraries = require(_dependencyMap[1], \"../utils/rnlibraries\");\n  var _xhr = require(_dependencyMap[2], \"../utils/xhr\");\n  var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  /**\n   * Fetches source context for the Sentry Middleware (/__sentry/context)\n   *\n   * @param frame StackFrame\n   * @param getDevServer function from RN to get DevServer URL\n   */\n  function fetchSourceContext(frames) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new Promise(resolve => {\n        try {\n          const xhr = (0, _xhr.createStealthXhr)();\n          if (!xhr) {\n            resolve(frames);\n            return;\n          }\n          xhr.open('POST', getSentryMetroSourceContextUrl(), true);\n          xhr.setRequestHeader('Content-Type', 'application/json');\n          xhr.send(JSON.stringify({\n            stack: frames\n          }));\n          xhr.onreadystatechange = () => {\n            if (xhr.readyState === _xhr.XHR_READYSTATE_DONE) {\n              if (xhr.status !== 200) {\n                resolve(frames);\n              }\n              try {\n                const response = JSON.parse(xhr.responseText);\n                if (Array.isArray(response.stack)) {\n                  resolve(response.stack);\n                } else {\n                  resolve(frames);\n                }\n              } catch (error) {\n                resolve(frames);\n              }\n            }\n          };\n          xhr.onerror = () => {\n            resolve(frames);\n          };\n        } catch (error) {\n          _core.logger.error('Could not fetch source context.', error);\n          resolve(frames);\n        }\n      });\n    });\n  }\n  function getSentryMetroSourceContextUrl() {\n    return `${getDevServer().url}__sentry/context`;\n  }\n  /**\n   * Loads and calls RN Core Devtools parseErrorStack function.\n   */\n  function parseErrorStack(errorStack) {\n    if (!_rnlibraries.ReactNativeLibraries.Devtools) {\n      throw new Error('React Native Devtools not available.');\n    }\n    return _rnlibraries.ReactNativeLibraries.Devtools.parseErrorStack(errorStack);\n  }\n  /**\n   * Loads and calls RN Core Devtools symbolicateStackTrace function.\n   */\n  function symbolicateStackTrace(stack, extraData) {\n    if (!_rnlibraries.ReactNativeLibraries.Devtools) {\n      throw new Error('React Native Devtools not available.');\n    }\n    return _rnlibraries.ReactNativeLibraries.Devtools.symbolicateStackTrace(stack, extraData);\n  }\n  /**\n   * Loads and returns the RN DevServer URL.\n   */\n  function getDevServer() {\n    var _a;\n    try {\n      return (_a = _rnlibraries.ReactNativeLibraries.Devtools) === null || _a === void 0 ? void 0 : _a.getDevServer();\n    } catch (_oO) {\n      // We can't load devserver URL\n    }\n    return undefined;\n  }\n});","lineCount":119,"map":[[9,2,10,0],[9,6,10,0,"_core"],[9,11,10,0],[9,14,10,0,"require"],[9,21,10,0],[9,22,10,0,"_dependencyMap"],[9,36,10,0],[10,2,11,0],[10,6,11,0,"_rnlibraries"],[10,18,11,0],[10,21,11,0,"require"],[10,28,11,0],[10,29,11,0,"_dependencyMap"],[10,43,11,0],[11,2,12,0],[11,6,12,0,"_xhr"],[11,10,12,0],[11,13,12,0,"require"],[11,20,12,0],[11,21,12,0,"_dependencyMap"],[11,35,12,0],[12,2,1,0],[12,6,1,4,"__awaiter"],[12,15,1,13],[12,18,1,17],[12,22,1,21],[12,26,1,25],[12,30,1,29],[12,31,1,30,"__awaiter"],[12,40,1,39],[12,44,1,44],[12,54,1,54,"thisArg"],[12,61,1,61],[12,63,1,63,"_arguments"],[12,73,1,73],[12,75,1,75,"P"],[12,76,1,76],[12,78,1,78,"generator"],[12,87,1,87],[12,89,1,89],[13,4,2,4],[13,13,2,13,"adopt"],[13,18,2,18,"adopt"],[13,19,2,19,"value"],[13,24,2,24],[13,26,2,26],[14,6,2,28],[14,13,2,35,"value"],[14,18,2,40],[14,30,2,52,"P"],[14,31,2,53],[14,34,2,56,"value"],[14,39,2,61],[14,42,2,64],[14,46,2,68,"P"],[14,47,2,69],[14,48,2,70],[14,58,2,80,"resolve"],[14,65,2,87],[14,67,2,89],[15,8,2,91,"resolve"],[15,15,2,98],[15,16,2,99,"value"],[15,21,2,104],[15,22,2,105],[16,6,2,107],[16,7,2,108],[16,8,2,109],[17,4,2,111],[18,4,3,4],[18,11,3,11],[18,16,3,16,"P"],[18,17,3,17],[18,22,3,22,"P"],[18,23,3,23],[18,26,3,26,"Promise"],[18,33,3,33],[18,34,3,34],[18,36,3,36],[18,46,3,46,"resolve"],[18,53,3,53],[18,55,3,55,"reject"],[18,61,3,61],[18,63,3,63],[19,6,4,8],[19,15,4,17,"fulfilled"],[19,24,4,26,"fulfilled"],[19,25,4,27,"value"],[19,30,4,32],[19,32,4,34],[20,8,4,36],[20,12,4,40],[21,10,4,42,"step"],[21,14,4,46],[21,15,4,47,"generator"],[21,24,4,56],[21,25,4,57,"next"],[21,29,4,61],[21,30,4,62,"value"],[21,35,4,67],[21,36,4,68],[21,37,4,69],[22,8,4,71],[22,9,4,72],[22,10,4,73],[22,17,4,80,"e"],[22,18,4,81],[22,20,4,83],[23,10,4,85,"reject"],[23,16,4,91],[23,17,4,92,"e"],[23,18,4,93],[23,19,4,94],[24,8,4,96],[25,6,4,98],[26,6,5,8],[26,15,5,17,"rejected"],[26,23,5,25,"rejected"],[26,24,5,26,"value"],[26,29,5,31],[26,31,5,33],[27,8,5,35],[27,12,5,39],[28,10,5,41,"step"],[28,14,5,45],[28,15,5,46,"generator"],[28,24,5,55],[28,25,5,56],[28,32,5,63],[28,33,5,64],[28,34,5,65,"value"],[28,39,5,70],[28,40,5,71],[28,41,5,72],[29,8,5,74],[29,9,5,75],[29,10,5,76],[29,17,5,83,"e"],[29,18,5,84],[29,20,5,86],[30,10,5,88,"reject"],[30,16,5,94],[30,17,5,95,"e"],[30,18,5,96],[30,19,5,97],[31,8,5,99],[32,6,5,101],[33,6,6,8],[33,15,6,17,"step"],[33,19,6,21,"step"],[33,20,6,22,"result"],[33,26,6,28],[33,28,6,30],[34,8,6,32,"result"],[34,14,6,38],[34,15,6,39,"done"],[34,19,6,43],[34,22,6,46,"resolve"],[34,29,6,53],[34,30,6,54,"result"],[34,36,6,60],[34,37,6,61,"value"],[34,42,6,66],[34,43,6,67],[34,46,6,70,"adopt"],[34,51,6,75],[34,52,6,76,"result"],[34,58,6,82],[34,59,6,83,"value"],[34,64,6,88],[34,65,6,89],[34,66,6,90,"then"],[34,70,6,94],[34,71,6,95,"fulfilled"],[34,80,6,104],[34,82,6,106,"rejected"],[34,90,6,114],[34,91,6,115],[35,6,6,117],[36,6,7,8,"step"],[36,10,7,12],[36,11,7,13],[36,12,7,14,"generator"],[36,21,7,23],[36,24,7,26,"generator"],[36,33,7,35],[36,34,7,36,"apply"],[36,39,7,41],[36,40,7,42,"thisArg"],[36,47,7,49],[36,49,7,51,"_arguments"],[36,59,7,61],[36,63,7,65],[36,65,7,67],[36,66,7,68],[36,68,7,70,"next"],[36,72,7,74],[36,73,7,75],[36,74,7,76],[36,75,7,77],[37,4,8,4],[37,5,8,5],[37,6,8,6],[38,2,9,0],[38,3,9,1],[39,2,13,0],[40,0,14,0],[41,0,15,0],[42,0,16,0],[43,0,17,0],[44,0,18,0],[45,2,19,7],[45,11,19,16,"fetchSourceContext"],[45,29,19,34,"fetchSourceContext"],[45,30,19,35,"frames"],[45,36,19,41],[45,38,19,43],[46,4,20,4],[46,11,20,11,"__awaiter"],[46,20,20,20],[46,21,20,21],[46,25,20,25],[46,27,20,27],[46,32,20,32],[46,33,20,33],[46,35,20,35],[46,40,20,40],[46,41,20,41],[46,43,20,43],[46,56,20,56],[47,6,21,8],[47,13,21,15],[47,17,21,19,"Promise"],[47,24,21,26],[47,25,21,27,"resolve"],[47,32,21,34],[47,36,21,38],[48,8,22,12],[48,12,22,16],[49,10,23,16],[49,16,23,22,"xhr"],[49,19,23,25],[49,22,23,28],[49,26,23,28,"createStealthXhr"],[49,47,23,44],[49,49,23,45],[49,50,23,46],[50,10,24,16],[50,14,24,20],[50,15,24,21,"xhr"],[50,18,24,24],[50,20,24,26],[51,12,25,20,"resolve"],[51,19,25,27],[51,20,25,28,"frames"],[51,26,25,34],[51,27,25,35],[52,12,26,20],[53,10,27,16],[54,10,28,16,"xhr"],[54,13,28,19],[54,14,28,20,"open"],[54,18,28,24],[54,19,28,25],[54,25,28,31],[54,27,28,33,"getSentryMetroSourceContextUrl"],[54,57,28,63],[54,58,28,64],[54,59,28,65],[54,61,28,67],[54,65,28,71],[54,66,28,72],[55,10,29,16,"xhr"],[55,13,29,19],[55,14,29,20,"setRequestHeader"],[55,30,29,36],[55,31,29,37],[55,45,29,51],[55,47,29,53],[55,65,29,71],[55,66,29,72],[56,10,30,16,"xhr"],[56,13,30,19],[56,14,30,20,"send"],[56,18,30,24],[56,19,30,25,"JSON"],[56,23,30,29],[56,24,30,30,"stringify"],[56,33,30,39],[56,34,30,40],[57,12,30,42,"stack"],[57,17,30,47],[57,19,30,49,"frames"],[58,10,30,56],[58,11,30,57],[58,12,30,58],[58,13,30,59],[59,10,31,16,"xhr"],[59,13,31,19],[59,14,31,20,"onreadystatechange"],[59,32,31,38],[59,35,31,41],[59,41,31,47],[60,12,32,20],[60,16,32,24,"xhr"],[60,19,32,27],[60,20,32,28,"readyState"],[60,30,32,38],[60,35,32,43,"XHR_READYSTATE_DONE"],[60,59,32,62],[60,61,32,64],[61,14,33,24],[61,18,33,28,"xhr"],[61,21,33,31],[61,22,33,32,"status"],[61,28,33,38],[61,33,33,43],[61,36,33,46],[61,38,33,48],[62,16,34,28,"resolve"],[62,23,34,35],[62,24,34,36,"frames"],[62,30,34,42],[62,31,34,43],[63,14,35,24],[64,14,36,24],[64,18,36,28],[65,16,37,28],[65,22,37,34,"response"],[65,30,37,42],[65,33,37,45,"JSON"],[65,37,37,49],[65,38,37,50,"parse"],[65,43,37,55],[65,44,37,56,"xhr"],[65,47,37,59],[65,48,37,60,"responseText"],[65,60,37,72],[65,61,37,73],[66,16,38,28],[66,20,38,32,"Array"],[66,25,38,37],[66,26,38,38,"isArray"],[66,33,38,45],[66,34,38,46,"response"],[66,42,38,54],[66,43,38,55,"stack"],[66,48,38,60],[66,49,38,61],[66,51,38,63],[67,18,39,32,"resolve"],[67,25,39,39],[67,26,39,40,"response"],[67,34,39,48],[67,35,39,49,"stack"],[67,40,39,54],[67,41,39,55],[68,16,40,28],[68,17,40,29],[68,23,41,33],[69,18,42,32,"resolve"],[69,25,42,39],[69,26,42,40,"frames"],[69,32,42,46],[69,33,42,47],[70,16,43,28],[71,14,44,24],[71,15,44,25],[71,16,45,24],[71,23,45,31,"error"],[71,28,45,36],[71,30,45,38],[72,16,46,28,"resolve"],[72,23,46,35],[72,24,46,36,"frames"],[72,30,46,42],[72,31,46,43],[73,14,47,24],[74,12,48,20],[75,10,49,16],[75,11,49,17],[76,10,50,16,"xhr"],[76,13,50,19],[76,14,50,20,"onerror"],[76,21,50,27],[76,24,50,30],[76,30,50,36],[77,12,51,20,"resolve"],[77,19,51,27],[77,20,51,28,"frames"],[77,26,51,34],[77,27,51,35],[78,10,52,16],[78,11,52,17],[79,8,53,12],[79,9,53,13],[79,10,54,12],[79,17,54,19,"error"],[79,22,54,24],[79,24,54,26],[80,10,55,16,"logger"],[80,22,55,22],[80,23,55,23,"error"],[80,28,55,28],[80,29,55,29],[80,62,55,62],[80,64,55,64,"error"],[80,69,55,69],[80,70,55,70],[81,10,56,16,"resolve"],[81,17,56,23],[81,18,56,24,"frames"],[81,24,56,30],[81,25,56,31],[82,8,57,12],[83,6,58,8],[83,7,58,9],[83,8,58,10],[84,4,59,4],[84,5,59,5],[84,6,59,6],[85,2,60,0],[86,2,61,0],[86,11,61,9,"getSentryMetroSourceContextUrl"],[86,41,61,39,"getSentryMetroSourceContextUrl"],[86,42,61,39],[86,44,61,42],[87,4,62,4],[87,11,62,11],[87,14,62,14,"getDevServer"],[87,26,62,26],[87,27,62,27],[87,28,62,28],[87,29,62,29,"url"],[87,32,62,32],[87,50,62,50],[88,2,63,0],[89,2,64,0],[90,0,65,0],[91,0,66,0],[92,2,67,7],[92,11,67,16,"parseErrorStack"],[92,26,67,31,"parseErrorStack"],[92,27,67,32,"errorStack"],[92,37,67,42],[92,39,67,44],[93,4,68,4],[93,8,68,8],[93,9,68,9,"ReactNativeLibraries"],[93,42,68,29],[93,43,68,30,"Devtools"],[93,51,68,38],[93,53,68,40],[94,6,69,8],[94,12,69,14],[94,16,69,18,"Error"],[94,21,69,23],[94,22,69,24],[94,60,69,62],[94,61,69,63],[95,4,70,4],[96,4,71,4],[96,11,71,11,"ReactNativeLibraries"],[96,44,71,31],[96,45,71,32,"Devtools"],[96,53,71,40],[96,54,71,41,"parseErrorStack"],[96,69,71,56],[96,70,71,57,"errorStack"],[96,80,71,67],[96,81,71,68],[97,2,72,0],[98,2,73,0],[99,0,74,0],[100,0,75,0],[101,2,76,7],[101,11,76,16,"symbolicateStackTrace"],[101,32,76,37,"symbolicateStackTrace"],[101,33,76,38,"stack"],[101,38,76,43],[101,40,76,45,"extraData"],[101,49,76,54],[101,51,76,56],[102,4,77,4],[102,8,77,8],[102,9,77,9,"ReactNativeLibraries"],[102,42,77,29],[102,43,77,30,"Devtools"],[102,51,77,38],[102,53,77,40],[103,6,78,8],[103,12,78,14],[103,16,78,18,"Error"],[103,21,78,23],[103,22,78,24],[103,60,78,62],[103,61,78,63],[104,4,79,4],[105,4,80,4],[105,11,80,11,"ReactNativeLibraries"],[105,44,80,31],[105,45,80,32,"Devtools"],[105,53,80,40],[105,54,80,41,"symbolicateStackTrace"],[105,75,80,62],[105,76,80,63,"stack"],[105,81,80,68],[105,83,80,70,"extraData"],[105,92,80,79],[105,93,80,80],[106,2,81,0],[107,2,82,0],[108,0,83,0],[109,0,84,0],[110,2,85,7],[110,11,85,16,"getDevServer"],[110,23,85,28,"getDevServer"],[110,24,85,28],[110,26,85,31],[111,4,86,4],[111,8,86,8,"_a"],[111,10,86,10],[112,4,87,4],[112,8,87,8],[113,6,88,8],[113,13,88,15],[113,14,88,16,"_a"],[113,16,88,18],[113,19,88,21,"ReactNativeLibraries"],[113,52,88,41],[113,53,88,42,"Devtools"],[113,61,88,50],[113,67,88,56],[113,71,88,60],[113,75,88,64,"_a"],[113,77,88,66],[113,82,88,71],[113,87,88,76],[113,88,88,77],[113,91,88,80],[113,96,88,85],[113,97,88,86],[113,100,88,89,"_a"],[113,102,88,91],[113,103,88,92,"getDevServer"],[113,115,88,104],[113,116,88,105],[113,117,88,106],[114,4,89,4],[114,5,89,5],[114,6,90,4],[114,13,90,11,"_oO"],[114,16,90,14],[114,18,90,16],[115,6,91,8],[116,4,91,8],[117,4,93,4],[117,11,93,11,"undefined"],[117,20,93,20],[118,2,94,0],[119,0,94,1],[119,3]],"functionMap":{"names":["<global>","<anonymous>","adopt","P$argument_0","fulfilled","rejected","step","fetchSourceContext","__awaiter$argument_3","Promise$argument_0","xhr.onreadystatechange","xhr.onerror","getSentryMetroSourceContextUrl","parseErrorStack","symbolicateStackTrace","getDevServer"],"mappings":"AAA,4CC;ICC,kEC,sCD,ID;QGE,2FH;QIC,8FJ;QKC,8GL;CDG;OOU;2CCC;2BCC;yCCU;iBDkB;8BEC;iBFE;SDM;KDC;CPC;AYC;CZE;OaI;CbK;OcI;CdK;OeI;CfS"}},"type":"js/module"}]}