{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"react-reconciler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":602},"end":{"line":4,"column":47,"index":649}}],"key":"6aiG1OTGXIVCEbQ0447FmWRvHy8=","exportNames":["*"]}},{"name":"../dom/types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":650},"end":{"line":5,"column":40,"index":690}}],"key":"m/wAiDLrEcK3aZkki0yLP/giXZQ=","exportNames":["*"]}},{"name":"./HostConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":691},"end":{"line":6,"column":53,"index":744}}],"key":"g8fOJouYIDxx0kLKgys/b6SJw0Y=","exportNames":["*"]}},{"name":"./Container","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":745},"end":{"line":7,"column":46,"index":791}}],"key":"JmmWRCKQXaQpOAk8EymGcMiUmeM=","exportNames":["*"]}},{"name":"./Elements","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":792},"end":{"line":8,"column":20,"index":812}}],"key":"O/Xwe27pLtmvt1LkJ/6e5xcOlbA=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SkiaSGRoot = void 0;\n  var _reactReconciler = _interopRequireDefault(require(_dependencyMap[1], \"react-reconciler\"));\n  var _types = require(_dependencyMap[2], \"../dom/types\");\n  var _HostConfig = require(_dependencyMap[3], \"./HostConfig\");\n  var _Container = require(_dependencyMap[4], \"./Container\");\n  require(_dependencyMap[5], \"./Elements\");\n  function _defineProperty(e, r, t) {\n    return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n      value: t,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[r] = t, e;\n  }\n  function _toPropertyKey(t) {\n    var i = _toPrimitive(t, \"string\");\n    return \"symbol\" == typeof i ? i : i + \"\";\n  }\n  function _toPrimitive(t, r) {\n    if (\"object\" != typeof t || !t) return t;\n    var e = t[Symbol.toPrimitive];\n    if (void 0 !== e) {\n      var i = e.call(t, r || \"default\");\n      if (\"object\" != typeof i) return i;\n      throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (\"string\" === r ? String : Number)(t);\n  }\n  const skiaReconciler = (0, _reactReconciler.default)(_HostConfig.sksgHostConfig);\n  skiaReconciler.injectIntoDevTools({\n    bundleType: 1,\n    version: \"0.0.1\",\n    rendererPackageName: \"react-native-skia\"\n  });\n  class SkiaSGRoot {\n    constructor(Skia, nativeId = -1) {\n      this.Skia = Skia;\n      _defineProperty(this, \"root\", void 0);\n      _defineProperty(this, \"container\", void 0);\n      this.container = (0, _Container.createContainer)(Skia, nativeId);\n      this.root = skiaReconciler.createContainer(this.container, 0, null, true, null, \"\", console.error, null);\n    }\n    get sg() {\n      const children = this.container.root;\n      return {\n        type: _types.NodeType.Group,\n        props: {},\n        children,\n        isDeclaration: false\n      };\n    }\n    updateContainer(element) {\n      return new Promise(resolve => {\n        skiaReconciler.updateContainer(element, this.root, null, () => {\n          (0, _HostConfig.debug)(\"updateContainer\");\n          resolve(true);\n        });\n      });\n    }\n    async render(element) {\n      await this.updateContainer(element);\n      this.container.redraw();\n    }\n    drawOnCanvas(canvas) {\n      this.container.drawOnCanvas(canvas);\n    }\n    getPicture() {\n      const recorder = this.Skia.PictureRecorder();\n      const canvas = recorder.beginRecording();\n      this.drawOnCanvas(canvas);\n      return recorder.finishRecordingAsPicture();\n    }\n    unmount() {\n      this.container.unmount();\n      return new Promise(resolve => {\n        skiaReconciler.updateContainer(null, this.root, null, () => {\n          (0, _HostConfig.debug)(\"unmountContainer\");\n          resolve(true);\n        });\n      });\n    }\n  }\n  exports.SkiaSGRoot = SkiaSGRoot;\n});","lineCount":89,"map":[[7,2,4,0],[7,6,4,0,"_reactReconciler"],[7,22,4,0],[7,25,4,0,"_interopRequireDefault"],[7,47,4,0],[7,48,4,0,"require"],[7,55,4,0],[7,56,4,0,"_dependencyMap"],[7,70,4,0],[8,2,5,0],[8,6,5,0,"_types"],[8,12,5,0],[8,15,5,0,"require"],[8,22,5,0],[8,23,5,0,"_dependencyMap"],[8,37,5,0],[9,2,6,0],[9,6,6,0,"_HostConfig"],[9,17,6,0],[9,20,6,0,"require"],[9,27,6,0],[9,28,6,0,"_dependencyMap"],[9,42,6,0],[10,2,7,0],[10,6,7,0,"_Container"],[10,16,7,0],[10,19,7,0,"require"],[10,26,7,0],[10,27,7,0,"_dependencyMap"],[10,41,7,0],[11,2,8,0,"require"],[11,9,8,0],[11,10,8,0,"_dependencyMap"],[11,24,8,0],[12,2,1,0],[12,11,1,9,"_defineProperty"],[12,26,1,24,"_defineProperty"],[12,27,1,25,"e"],[12,28,1,26],[12,30,1,28,"r"],[12,31,1,29],[12,33,1,31,"t"],[12,34,1,32],[12,36,1,34],[13,4,1,36],[13,11,1,43],[13,12,1,44,"r"],[13,13,1,45],[13,16,1,48,"_toPropertyKey"],[13,30,1,62],[13,31,1,63,"r"],[13,32,1,64],[13,33,1,65],[13,38,1,70,"e"],[13,39,1,71],[13,42,1,74,"Object"],[13,48,1,80],[13,49,1,81,"defineProperty"],[13,63,1,95],[13,64,1,96,"e"],[13,65,1,97],[13,67,1,99,"r"],[13,68,1,100],[13,70,1,102],[14,6,1,104,"value"],[14,11,1,109],[14,13,1,111,"t"],[14,14,1,112],[15,6,1,114,"enumerable"],[15,16,1,124],[15,18,1,126],[15,19,1,127],[15,20,1,128],[16,6,1,130,"configurable"],[16,18,1,142],[16,20,1,144],[16,21,1,145],[16,22,1,146],[17,6,1,148,"writable"],[17,14,1,156],[17,16,1,158],[17,17,1,159],[18,4,1,161],[18,5,1,162],[18,6,1,163],[18,9,1,166,"e"],[18,10,1,167],[18,11,1,168,"r"],[18,12,1,169],[18,13,1,170],[18,16,1,173,"t"],[18,17,1,174],[18,19,1,176,"e"],[18,20,1,177],[19,2,1,179],[20,2,2,0],[20,11,2,9,"_toPropertyKey"],[20,25,2,23,"_toPropertyKey"],[20,26,2,24,"t"],[20,27,2,25],[20,29,2,27],[21,4,2,29],[21,8,2,33,"i"],[21,9,2,34],[21,12,2,37,"_toPrimitive"],[21,24,2,49],[21,25,2,50,"t"],[21,26,2,51],[21,28,2,53],[21,36,2,61],[21,37,2,62],[22,4,2,64],[22,11,2,71],[22,19,2,79],[22,23,2,83],[22,30,2,90,"i"],[22,31,2,91],[22,34,2,94,"i"],[22,35,2,95],[22,38,2,98,"i"],[22,39,2,99],[22,42,2,102],[22,44,2,104],[23,2,2,106],[24,2,3,0],[24,11,3,9,"_toPrimitive"],[24,23,3,21,"_toPrimitive"],[24,24,3,22,"t"],[24,25,3,23],[24,27,3,25,"r"],[24,28,3,26],[24,30,3,28],[25,4,3,30],[25,8,3,34],[25,16,3,42],[25,20,3,46],[25,27,3,53,"t"],[25,28,3,54],[25,32,3,58],[25,33,3,59,"t"],[25,34,3,60],[25,36,3,62],[25,43,3,69,"t"],[25,44,3,70],[26,4,3,72],[26,8,3,76,"e"],[26,9,3,77],[26,12,3,80,"t"],[26,13,3,81],[26,14,3,82,"Symbol"],[26,20,3,88],[26,21,3,89,"toPrimitive"],[26,32,3,100],[26,33,3,101],[27,4,3,103],[27,8,3,107],[27,13,3,112],[27,14,3,113],[27,19,3,118,"e"],[27,20,3,119],[27,22,3,121],[28,6,3,123],[28,10,3,127,"i"],[28,11,3,128],[28,14,3,131,"e"],[28,15,3,132],[28,16,3,133,"call"],[28,20,3,137],[28,21,3,138,"t"],[28,22,3,139],[28,24,3,141,"r"],[28,25,3,142],[28,29,3,146],[28,38,3,155],[28,39,3,156],[29,6,3,158],[29,10,3,162],[29,18,3,170],[29,22,3,174],[29,29,3,181,"i"],[29,30,3,182],[29,32,3,184],[29,39,3,191,"i"],[29,40,3,192],[30,6,3,194],[30,12,3,200],[30,16,3,204,"TypeError"],[30,25,3,213],[30,26,3,214],[30,72,3,260],[30,73,3,261],[31,4,3,263],[32,4,3,265],[32,11,3,272],[32,12,3,273],[32,20,3,281],[32,25,3,286,"r"],[32,26,3,287],[32,29,3,290,"String"],[32,35,3,296],[32,38,3,299,"Number"],[32,44,3,305],[32,46,3,307,"t"],[32,47,3,308],[32,48,3,309],[33,2,3,311],[34,2,9,0],[34,8,9,6,"skiaReconciler"],[34,22,9,20],[34,25,9,23],[34,29,9,23,"ReactReconciler"],[34,53,9,38],[34,55,9,39,"sksgHostConfig"],[34,81,9,53],[34,82,9,54],[35,2,10,0,"skiaReconciler"],[35,16,10,14],[35,17,10,15,"injectIntoDevTools"],[35,35,10,33],[35,36,10,34],[36,4,11,2,"bundleType"],[36,14,11,12],[36,16,11,14],[36,17,11,15],[37,4,12,2,"version"],[37,11,12,9],[37,13,12,11],[37,20,12,18],[38,4,13,2,"rendererPackageName"],[38,23,13,21],[38,25,13,23],[39,2,14,0],[39,3,14,1],[39,4,14,2],[40,2,15,7],[40,8,15,13,"SkiaSGRoot"],[40,18,15,23],[40,19,15,24],[41,4,16,2,"constructor"],[41,15,16,13,"constructor"],[41,16,16,14,"Skia"],[41,20,16,18],[41,22,16,20,"nativeId"],[41,30,16,28],[41,33,16,31],[41,34,16,32],[41,35,16,33],[41,37,16,35],[42,6,17,4],[42,10,17,8],[42,11,17,9,"Skia"],[42,15,17,13],[42,18,17,16,"Skia"],[42,22,17,20],[43,6,18,4,"_defineProperty"],[43,21,18,19],[43,22,18,20],[43,26,18,24],[43,28,18,26],[43,34,18,32],[43,36,18,34],[43,41,18,39],[43,42,18,40],[43,43,18,41],[44,6,19,4,"_defineProperty"],[44,21,19,19],[44,22,19,20],[44,26,19,24],[44,28,19,26],[44,39,19,37],[44,41,19,39],[44,46,19,44],[44,47,19,45],[44,48,19,46],[45,6,20,4],[45,10,20,8],[45,11,20,9,"container"],[45,20,20,18],[45,23,20,21],[45,27,20,21,"createContainer"],[45,53,20,36],[45,55,20,37,"Skia"],[45,59,20,41],[45,61,20,43,"nativeId"],[45,69,20,51],[45,70,20,52],[46,6,21,4],[46,10,21,8],[46,11,21,9,"root"],[46,15,21,13],[46,18,21,16,"skiaReconciler"],[46,32,21,30],[46,33,21,31,"createContainer"],[46,48,21,46],[46,49,21,47],[46,53,21,51],[46,54,21,52,"container"],[46,63,21,61],[46,65,21,63],[46,66,21,64],[46,68,21,66],[46,72,21,70],[46,74,21,72],[46,78,21,76],[46,80,21,78],[46,84,21,82],[46,86,21,84],[46,88,21,86],[46,90,21,88,"console"],[46,97,21,95],[46,98,21,96,"error"],[46,103,21,101],[46,105,21,103],[46,109,21,107],[46,110,21,108],[47,4,22,2],[48,4,23,2],[48,8,23,6,"sg"],[48,10,23,8,"sg"],[48,11,23,8],[48,13,23,11],[49,6,24,4],[49,12,24,10,"children"],[49,20,24,18],[49,23,24,21],[49,27,24,25],[49,28,24,26,"container"],[49,37,24,35],[49,38,24,36,"root"],[49,42,24,40],[50,6,25,4],[50,13,25,11],[51,8,26,6,"type"],[51,12,26,10],[51,14,26,12,"NodeType"],[51,29,26,20],[51,30,26,21,"Group"],[51,35,26,26],[52,8,27,6,"props"],[52,13,27,11],[52,15,27,13],[52,16,27,14],[52,17,27,15],[53,8,28,6,"children"],[53,16,28,14],[54,8,29,6,"isDeclaration"],[54,21,29,19],[54,23,29,21],[55,6,30,4],[55,7,30,5],[56,4,31,2],[57,4,32,2,"updateContainer"],[57,19,32,17,"updateContainer"],[57,20,32,18,"element"],[57,27,32,25],[57,29,32,27],[58,6,33,4],[58,13,33,11],[58,17,33,15,"Promise"],[58,24,33,22],[58,25,33,23,"resolve"],[58,32,33,30],[58,36,33,34],[59,8,34,6,"skiaReconciler"],[59,22,34,20],[59,23,34,21,"updateContainer"],[59,38,34,36],[59,39,34,37,"element"],[59,46,34,44],[59,48,34,46],[59,52,34,50],[59,53,34,51,"root"],[59,57,34,55],[59,59,34,57],[59,63,34,61],[59,65,34,63],[59,71,34,69],[60,10,35,8],[60,14,35,8,"debug"],[60,31,35,13],[60,33,35,14],[60,50,35,31],[60,51,35,32],[61,10,36,8,"resolve"],[61,17,36,15],[61,18,36,16],[61,22,36,20],[61,23,36,21],[62,8,37,6],[62,9,37,7],[62,10,37,8],[63,6,38,4],[63,7,38,5],[63,8,38,6],[64,4,39,2],[65,4,40,2],[65,10,40,8,"render"],[65,16,40,14,"render"],[65,17,40,15,"element"],[65,24,40,22],[65,26,40,24],[66,6,41,4],[66,12,41,10],[66,16,41,14],[66,17,41,15,"updateContainer"],[66,32,41,30],[66,33,41,31,"element"],[66,40,41,38],[66,41,41,39],[67,6,42,4],[67,10,42,8],[67,11,42,9,"container"],[67,20,42,18],[67,21,42,19,"redraw"],[67,27,42,25],[67,28,42,26],[67,29,42,27],[68,4,43,2],[69,4,44,2,"drawOnCanvas"],[69,16,44,14,"drawOnCanvas"],[69,17,44,15,"canvas"],[69,23,44,21],[69,25,44,23],[70,6,45,4],[70,10,45,8],[70,11,45,9,"container"],[70,20,45,18],[70,21,45,19,"drawOnCanvas"],[70,33,45,31],[70,34,45,32,"canvas"],[70,40,45,38],[70,41,45,39],[71,4,46,2],[72,4,47,2,"getPicture"],[72,14,47,12,"getPicture"],[72,15,47,12],[72,17,47,15],[73,6,48,4],[73,12,48,10,"recorder"],[73,20,48,18],[73,23,48,21],[73,27,48,25],[73,28,48,26,"Skia"],[73,32,48,30],[73,33,48,31,"PictureRecorder"],[73,48,48,46],[73,49,48,47],[73,50,48,48],[74,6,49,4],[74,12,49,10,"canvas"],[74,18,49,16],[74,21,49,19,"recorder"],[74,29,49,27],[74,30,49,28,"beginRecording"],[74,44,49,42],[74,45,49,43],[74,46,49,44],[75,6,50,4],[75,10,50,8],[75,11,50,9,"drawOnCanvas"],[75,23,50,21],[75,24,50,22,"canvas"],[75,30,50,28],[75,31,50,29],[76,6,51,4],[76,13,51,11,"recorder"],[76,21,51,19],[76,22,51,20,"finishRecordingAsPicture"],[76,46,51,44],[76,47,51,45],[76,48,51,46],[77,4,52,2],[78,4,53,2,"unmount"],[78,11,53,9,"unmount"],[78,12,53,9],[78,14,53,12],[79,6,54,4],[79,10,54,8],[79,11,54,9,"container"],[79,20,54,18],[79,21,54,19,"unmount"],[79,28,54,26],[79,29,54,27],[79,30,54,28],[80,6,55,4],[80,13,55,11],[80,17,55,15,"Promise"],[80,24,55,22],[80,25,55,23,"resolve"],[80,32,55,30],[80,36,55,34],[81,8,56,6,"skiaReconciler"],[81,22,56,20],[81,23,56,21,"updateContainer"],[81,38,56,36],[81,39,56,37],[81,43,56,41],[81,45,56,43],[81,49,56,47],[81,50,56,48,"root"],[81,54,56,52],[81,56,56,54],[81,60,56,58],[81,62,56,60],[81,68,56,66],[82,10,57,8],[82,14,57,8,"debug"],[82,31,57,13],[82,33,57,14],[82,51,57,32],[82,52,57,33],[83,10,58,8,"resolve"],[83,17,58,15],[83,18,58,16],[83,22,58,20],[83,23,58,21],[84,8,59,6],[84,9,59,7],[84,10,59,8],[85,6,60,4],[85,7,60,5],[85,8,60,6],[86,4,61,2],[87,2,62,0],[88,2,62,1,"exports"],[88,9,62,1],[88,10,62,1,"SkiaSGRoot"],[88,20,62,1],[88,23,62,1,"SkiaSGRoot"],[88,33,62,1],[89,0,62,1],[89,3]],"functionMap":{"names":["_defineProperty","<global>","_toPropertyKey","_toPrimitive","SkiaSGRoot","SkiaSGRoot#constructor","SkiaSGRoot#get__sg","SkiaSGRoot#updateContainer","Promise$argument_0","skiaReconciler.updateContainer$argument_3","SkiaSGRoot#render","SkiaSGRoot#drawOnCanvas","SkiaSGRoot#getPicture","SkiaSGRoot#unmount"],"mappings":"AAA,oLC;ACC,2GD;AEC,wTF;OGY;ECC;GDM;EEC;GFQ;EGC;uBCC;+DCC;ODG;KDC;GHC;EMC;GNG;EOC;GPE;EQC;GRK;ESC;uBLE;4DCC;ODG;KKC;GTC;CHC"}},"type":"js/module"}]}