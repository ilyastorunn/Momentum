{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":126,"index":126}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.reportingObserverIntegration = void 0;\n  var _core = require(_dependencyMap[0], \"@sentry/core\");\n  const WINDOW = _core.GLOBAL_OBJ;\n  const INTEGRATION_NAME = 'ReportingObserver';\n  const SETUP_CLIENTS = new WeakMap();\n  const _reportingObserverIntegration = (options = {}) => {\n    const types = options.types || ['crash', 'deprecation', 'intervention'];\n\n    /** Handler for the reporting observer. */\n    function handler(reports) {\n      if (!SETUP_CLIENTS.has((0, _core.getClient)())) {\n        return;\n      }\n      for (const report of reports) {\n        (0, _core.withScope)(scope => {\n          scope.setExtra('url', report.url);\n          const label = `ReportingObserver [${report.type}]`;\n          let details = 'No details available';\n          if (report.body) {\n            // Object.keys doesn't work on ReportBody, as all properties are inherited\n            const plainBody = {};\n\n            // eslint-disable-next-line guard-for-in\n            for (const prop in report.body) {\n              plainBody[prop] = report.body[prop];\n            }\n            scope.setExtra('body', plainBody);\n            if (report.type === 'crash') {\n              const body = report.body;\n              // A fancy way to create a message out of crashId OR reason OR both OR fallback\n              details = [body.crashId || '', body.reason || ''].join(' ').trim() || details;\n            } else {\n              const body = report.body;\n              details = body.message || details;\n            }\n          }\n          (0, _core.captureMessage)(`${label}: ${details}`);\n        });\n      }\n    }\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce() {\n        if (!(0, _core.supportsReportingObserver)()) {\n          return;\n        }\n        const observer = new WINDOW.ReportingObserver(handler, {\n          buffered: true,\n          types\n        });\n        observer.observe();\n      },\n      setup(client) {\n        SETUP_CLIENTS.set(client, true);\n      }\n    };\n  };\n\n  /**\n   * Reporting API integration - https://w3c.github.io/reporting/\n   */\n  const reportingObserverIntegration = exports.reportingObserverIntegration = (0, _core.defineIntegration)(_reportingObserverIntegration);\n});","lineCount":67,"map":[[6,2,1,0],[6,6,1,0,"_core"],[6,11,1,0],[6,14,1,0,"require"],[6,21,1,0],[6,22,1,0,"_dependencyMap"],[6,36,1,0],[7,2,3,0],[7,8,3,6,"WINDOW"],[7,14,3,12],[7,17,3,15,"GLOBAL_OBJ"],[7,33,3,25],[8,2,5,0],[8,8,5,6,"INTEGRATION_NAME"],[8,24,5,22],[8,27,5,25],[8,46,5,44],[9,2,7,0],[9,8,7,6,"SETUP_CLIENTS"],[9,21,7,19],[9,24,7,22],[9,28,7,26,"WeakMap"],[9,35,7,33],[9,36,7,34],[9,37,7,35],[10,2,9,0],[10,8,9,6,"_reportingObserverIntegration"],[10,37,9,35],[10,40,9,39,"_reportingObserverIntegration"],[10,41,9,40,"options"],[10,48,9,47],[10,51,9,50],[10,52,9,51],[10,53,9,52],[10,58,9,57],[11,4,10,2],[11,10,10,8,"types"],[11,15,10,13],[11,18,10,16,"options"],[11,25,10,23],[11,26,10,24,"types"],[11,31,10,29],[11,35,10,33],[11,36,10,34],[11,43,10,41],[11,45,10,43],[11,58,10,56],[11,60,10,58],[11,74,10,72],[11,75,10,73],[13,4,12,2],[14,4,13,2],[14,13,13,11,"handler"],[14,20,13,18,"handler"],[14,21,13,19,"reports"],[14,28,13,26],[14,30,13,28],[15,6,14,4],[15,10,14,8],[15,11,14,9,"SETUP_CLIENTS"],[15,24,14,22],[15,25,14,23,"has"],[15,28,14,26],[15,29,14,27],[15,33,14,27,"getClient"],[15,48,14,36],[15,50,14,37],[15,51,14,39],[15,52,14,40],[15,54,14,42],[16,8,15,6],[17,6,16,4],[18,6,18,4],[18,11,18,9],[18,17,18,15,"report"],[18,23,18,21],[18,27,18,25,"reports"],[18,34,18,32],[18,36,18,34],[19,8,19,6],[19,12,19,6,"withScope"],[19,27,19,15],[19,29,19,16,"scope"],[19,34,19,21],[19,38,19,25],[20,10,20,8,"scope"],[20,15,20,13],[20,16,20,14,"setExtra"],[20,24,20,22],[20,25,20,23],[20,30,20,28],[20,32,20,30,"report"],[20,38,20,36],[20,39,20,37,"url"],[20,42,20,40],[20,43,20,41],[21,10,22,8],[21,16,22,14,"label"],[21,21,22,19],[21,24,22,22],[21,46,22,44,"report"],[21,52,22,50],[21,53,22,51,"type"],[21,57,22,55],[21,60,22,58],[22,10,23,8],[22,14,23,12,"details"],[22,21,23,19],[22,24,23,22],[22,46,23,44],[23,10,25,8],[23,14,25,12,"report"],[23,20,25,18],[23,21,25,19,"body"],[23,25,25,23],[23,27,25,25],[24,12,26,10],[25,12,27,10],[25,18,27,16,"plainBody"],[25,27,27,25],[25,30,29,3],[25,31,29,4],[25,32,29,5],[27,12,31,10],[28,12,32,10],[28,17,32,15],[28,23,32,21,"prop"],[28,27,32,25],[28,31,32,29,"report"],[28,37,32,35],[28,38,32,36,"body"],[28,42,32,40],[28,44,32,42],[29,14,33,12,"plainBody"],[29,23,33,21],[29,24,33,22,"prop"],[29,28,33,26],[29,29,33,27],[29,32,33,30,"report"],[29,38,33,36],[29,39,33,37,"body"],[29,43,33,41],[29,44,33,42,"prop"],[29,48,33,46],[29,49,33,47],[30,12,34,10],[31,12,36,10,"scope"],[31,17,36,15],[31,18,36,16,"setExtra"],[31,26,36,24],[31,27,36,25],[31,33,36,31],[31,35,36,33,"plainBody"],[31,44,36,42],[31,45,36,43],[32,12,38,10],[32,16,38,14,"report"],[32,22,38,20],[32,23,38,21,"type"],[32,27,38,25],[32,32,38,30],[32,39,38,37],[32,41,38,39],[33,14,39,12],[33,20,39,18,"body"],[33,24,39,22],[33,27,39,25,"report"],[33,33,39,31],[33,34,39,32,"body"],[33,38,39,36],[34,14,40,12],[35,14,41,12,"details"],[35,21,41,19],[35,24,41,22],[35,25,41,23,"body"],[35,29,41,27],[35,30,41,28,"crashId"],[35,37,41,35],[35,41,41,39],[35,43,41,41],[35,45,41,43,"body"],[35,49,41,47],[35,50,41,48,"reason"],[35,56,41,54],[35,60,41,58],[35,62,41,60],[35,63,41,61],[35,64,41,62,"join"],[35,68,41,66],[35,69,41,67],[35,72,41,70],[35,73,41,71],[35,74,41,72,"trim"],[35,78,41,76],[35,79,41,77],[35,80,41,78],[35,84,41,82,"details"],[35,91,41,89],[36,12,42,10],[36,13,42,11],[36,19,42,17],[37,14,43,12],[37,20,43,18,"body"],[37,24,43,22],[37,27,43,25,"report"],[37,33,43,31],[37,34,43,32,"body"],[37,38,43,36],[38,14,44,12,"details"],[38,21,44,19],[38,24,44,22,"body"],[38,28,44,26],[38,29,44,27,"message"],[38,36,44,34],[38,40,44,38,"details"],[38,47,44,45],[39,12,45,10],[40,10,46,8],[41,10,48,8],[41,14,48,8,"captureMessage"],[41,34,48,22],[41,36,48,23],[41,39,48,26,"label"],[41,44,48,31],[41,49,48,36,"details"],[41,56,48,43],[41,58,48,45],[41,59,48,46],[42,8,49,6],[42,9,49,7],[42,10,49,8],[43,6,50,4],[44,4,51,2],[45,4,53,2],[45,11,53,9],[46,6,54,4,"name"],[46,10,54,8],[46,12,54,10,"INTEGRATION_NAME"],[46,28,54,26],[47,6,55,4,"setupOnce"],[47,15,55,13,"setupOnce"],[47,16,55,13],[47,18,55,16],[48,8,56,6],[48,12,56,10],[48,13,56,11],[48,17,56,11,"supportsReportingObserver"],[48,48,56,36],[48,50,56,37],[48,51,56,38],[48,53,56,40],[49,10,57,8],[50,8,58,6],[51,8,60,6],[51,14,60,12,"observer"],[51,22,60,20],[51,25,60,23],[51,29,60,28,"WINDOW"],[51,35,60,34],[51,36,60,37,"ReportingObserver"],[51,53,60,54],[51,54,61,8,"handler"],[51,61,61,15],[51,63,62,8],[52,10,63,10,"buffered"],[52,18,63,18],[52,20,63,20],[52,24,63,24],[53,10,64,10,"types"],[54,8,65,8],[54,9,66,6],[54,10,66,7],[55,8,68,6,"observer"],[55,16,68,14],[55,17,68,15,"observe"],[55,24,68,22],[55,25,68,23],[55,26,68,24],[56,6,69,4],[56,7,69,5],[57,6,71,4,"setup"],[57,11,71,9,"setup"],[57,12,71,10,"client"],[57,18,71,16],[57,20,71,18],[58,8,72,6,"SETUP_CLIENTS"],[58,21,72,19],[58,22,72,20,"set"],[58,25,72,23],[58,26,72,24,"client"],[58,32,72,30],[58,34,72,32],[58,38,72,36],[58,39,72,37],[59,6,73,4],[60,4,74,2],[60,5,74,3],[61,2,75,0],[61,3,75,2],[63,2,77,0],[64,0,78,0],[65,0,79,0],[66,2,80,0],[66,8,80,6,"reportingObserverIntegration"],[66,36,80,34],[66,39,80,34,"exports"],[66,46,80,34],[66,47,80,34,"reportingObserverIntegration"],[66,75,80,34],[66,78,80,37],[66,82,80,37,"defineIntegration"],[66,105,80,54],[66,107,80,55,"_reportingObserverIntegration"],[66,136,80,84],[66,137,80,85],[67,0,80,86],[67,3]],"functionMap":{"names":["<global>","_reportingObserverIntegration","handler","withScope$argument_0","setupOnce","setup"],"mappings":"AAA;uCCQ;ECI;gBCM;OD8B;GDE;IGI;KHc;IIE;KJE;CDE"}},"type":"js/module"}]}