{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"../Skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":54},"end":{"line":3,"column":31,"index":85}}],"key":"5eRJ3Y/mp/EEiynYa3WwzXcSMXc=","exportNames":["*"]}},{"name":"../../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":158},"end":{"line":5,"column":42,"index":200}}],"key":"AXHAxFjlDdeq1JxYZnWn+aHYhYU=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useRawData = exports.useData = exports.useCollectionLoading = exports.loadData = void 0;\n  var _slicedToArray2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\"));\n  var _react = require(_dependencyMap[2], \"react\");\n  var _Skia = require(_dependencyMap[3], \"../Skia\");\n  var _Platform = require(_dependencyMap[4], \"../../Platform\");\n  var factoryWrapper = (data2, factory, onError) => {\n    var factoryResult = factory(data2);\n    if (factoryResult === null) {\n      onError && onError(new Error(\"Could not load data\"));\n      return null;\n    } else {\n      return factoryResult;\n    }\n  };\n  var loadData = (source, factory, onError) => {\n    if (source === null || source === undefined) {\n      return new Promise(resolve => resolve(null));\n    } else if (source instanceof Uint8Array) {\n      return new Promise(resolve => resolve(factoryWrapper(_Skia.Skia.Data.fromBytes(source), factory, onError)));\n    } else {\n      var uri = typeof source === \"string\" ? source : _Platform.Platform.resolveAsset(source);\n      return _Skia.Skia.Data.fromURI(uri).then(d => factoryWrapper(d, factory, onError));\n    }\n  };\n  exports.loadData = loadData;\n  var useLoading = (source, loader) => {\n    var mounted = (0, _react.useRef)(false);\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n    var dataRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      mounted.current = true;\n      loader().then(value => {\n        if (mounted.current) {\n          setData(value);\n          dataRef.current = value;\n        }\n      });\n      return () => {\n        mounted.current = false;\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [source]);\n    return data;\n  };\n  var useCollectionLoading = (source, loader) => {\n    var mounted = (0, _react.useRef)(false);\n    var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n    var dataRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      mounted.current = true;\n      loader().then(result => {\n        var value = result.filter(r => r !== null);\n        if (mounted.current) {\n          setData(value);\n          dataRef.current = value;\n        }\n      });\n      return () => {\n        mounted.current = false;\n      };\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [source]);\n    return data;\n  };\n  exports.useCollectionLoading = useCollectionLoading;\n  var useRawData = (source, factory, onError) => useLoading(source, () => loadData(source, factory, onError));\n  exports.useRawData = useRawData;\n  var identity = data => data;\n  var useData = (source, onError) => useRawData(source, identity, onError);\n  exports.useData = useData;\n});","lineCount":83,"map":[[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,3,0],[9,6,3,0,"_Skia"],[9,11,3,0],[9,14,3,0,"require"],[9,21,3,0],[9,22,3,0,"_dependencyMap"],[9,36,3,0],[10,2,5,0],[10,6,5,0,"_Platform"],[10,15,5,0],[10,18,5,0,"require"],[10,25,5,0],[10,26,5,0,"_dependencyMap"],[10,40,5,0],[11,2,7,0],[11,6,7,6,"factoryWrapper"],[11,20,7,20],[11,23,7,23,"factoryWrapper"],[11,24,8,2,"data2"],[11,29,8,15],[11,31,9,2,"factory"],[11,38,9,30],[11,40,10,2,"onError"],[11,47,10,32],[11,52,11,5],[12,4,12,2],[12,8,12,8,"factoryResult"],[12,21,12,21],[12,24,12,24,"factory"],[12,31,12,31],[12,32,12,32,"data2"],[12,37,12,37],[12,38,12,38],[13,4,13,2],[13,8,13,6,"factoryResult"],[13,21,13,19],[13,26,13,24],[13,30,13,28],[13,32,13,30],[14,6,14,4,"onError"],[14,13,14,11],[14,17,14,15,"onError"],[14,24,14,22],[14,25,14,23],[14,29,14,27,"Error"],[14,34,14,32],[14,35,14,33],[14,56,14,54],[14,57,14,55],[14,58,14,56],[15,6,15,4],[15,13,15,11],[15,17,15,15],[16,4,16,2],[16,5,16,3],[16,11,16,9],[17,6,17,4],[17,13,17,11,"factoryResult"],[17,26,17,24],[18,4,18,2],[19,2,19,0],[19,3,19,1],[20,2,21,7],[20,6,21,13,"loadData"],[20,14,21,21],[20,17,21,24,"loadData"],[20,18,22,2,"source"],[20,24,22,25],[20,26,23,2,"factory"],[20,33,23,37],[20,35,24,2,"onError"],[20,42,24,32],[20,47,25,24],[21,4,26,2],[21,8,26,6,"source"],[21,14,26,12],[21,19,26,17],[21,23,26,21],[21,27,26,25,"source"],[21,33,26,31],[21,38,26,36,"undefined"],[21,47,26,45],[21,49,26,47],[22,6,27,4],[22,13,27,11],[22,17,27,15,"Promise"],[22,24,27,22],[22,25,27,24,"resolve"],[22,32,27,31],[22,36,27,36,"resolve"],[22,43,27,43],[22,44,27,44],[22,48,27,48],[22,49,27,49],[22,50,27,50],[23,4,28,2],[23,5,28,3],[23,11,28,9],[23,15,28,13,"source"],[23,21,28,19],[23,33,28,31,"Uint8Array"],[23,43,28,41],[23,45,28,43],[24,6,29,4],[24,13,29,11],[24,17,29,15,"Promise"],[24,24,29,22],[24,25,29,24,"resolve"],[24,32,29,31],[24,36,30,6,"resolve"],[24,43,30,13],[24,44,30,14,"factoryWrapper"],[24,58,30,28],[24,59,30,29,"Skia"],[24,69,30,33],[24,70,30,34,"Data"],[24,74,30,38],[24,75,30,39,"fromBytes"],[24,84,30,48],[24,85,30,49,"source"],[24,91,30,55],[24,92,30,56],[24,94,30,58,"factory"],[24,101,30,65],[24,103,30,67,"onError"],[24,110,30,74],[24,111,30,75],[24,112,31,4],[24,113,31,5],[25,4,32,2],[25,5,32,3],[25,11,32,9],[26,6,33,4],[26,10,33,10,"uri"],[26,13,33,13],[26,16,34,6],[26,23,34,13,"source"],[26,29,34,19],[26,34,34,24],[26,42,34,32],[26,45,34,35,"source"],[26,51,34,41],[26,54,34,44,"Platform"],[26,72,34,52],[26,73,34,53,"resolveAsset"],[26,85,34,65],[26,86,34,66,"source"],[26,92,34,72],[26,93,34,73],[27,6,35,4],[27,13,35,11,"Skia"],[27,23,35,15],[27,24,35,16,"Data"],[27,28,35,20],[27,29,35,21,"fromURI"],[27,36,35,28],[27,37,35,29,"uri"],[27,40,35,32],[27,41,35,33],[27,42,35,34,"then"],[27,46,35,38],[27,47,35,40,"d"],[27,48,35,41],[27,52,36,6,"factoryWrapper"],[27,66,36,20],[27,67,36,21,"d"],[27,68,36,22],[27,70,36,24,"factory"],[27,77,36,31],[27,79,36,33,"onError"],[27,86,36,40],[27,87,37,4],[27,88,37,5],[28,4,38,2],[29,2,39,0],[29,3,39,1],[30,2,39,2,"exports"],[30,9,39,2],[30,10,39,2,"loadData"],[30,18,39,2],[30,21,39,2,"loadData"],[30,29,39,2],[31,2,41,0],[31,6,41,6,"useLoading"],[31,16,41,16],[31,19,41,19,"useLoading"],[31,20,42,2,"source"],[31,26,42,25],[31,28,43,2,"loader"],[31,34,43,33],[31,39,44,5],[32,4,45,2],[32,8,45,8,"mounted"],[32,15,45,15],[32,18,45,18],[32,22,45,18,"useRef"],[32,35,45,24],[32,37,45,25],[32,42,45,30],[32,43,45,31],[33,4,46,2],[33,8,46,2,"_useState"],[33,17,46,2],[33,20,46,26],[33,24,46,26,"useState"],[33,39,46,34],[33,41,46,45],[33,45,46,49],[33,46,46,50],[34,6,46,50,"_useState2"],[34,16,46,50],[34,23,46,50,"_slicedToArray2"],[34,38,46,50],[34,39,46,50,"default"],[34,46,46,50],[34,48,46,50,"_useState"],[34,57,46,50],[35,6,46,9,"data"],[35,10,46,13],[35,13,46,13,"_useState2"],[35,23,46,13],[36,6,46,15,"setData"],[36,13,46,22],[36,16,46,22,"_useState2"],[36,26,46,22],[37,4,47,2],[37,8,47,8,"dataRef"],[37,15,47,15],[37,18,47,18],[37,22,47,18,"useRef"],[37,35,47,24],[37,37,47,35],[37,41,47,39],[37,42,47,40],[38,4,48,2],[38,8,48,2,"useEffect"],[38,24,48,11],[38,26,48,12],[38,32,48,18],[39,6,49,4,"mounted"],[39,13,49,11],[39,14,49,12,"current"],[39,21,49,19],[39,24,49,22],[39,28,49,26],[40,6,50,4,"loader"],[40,12,50,10],[40,13,50,11],[40,14,50,12],[40,15,50,13,"then"],[40,19,50,17],[40,20,50,19,"value"],[40,25,50,24],[40,29,50,29],[41,8,51,6],[41,12,51,10,"mounted"],[41,19,51,17],[41,20,51,18,"current"],[41,27,51,25],[41,29,51,27],[42,10,52,8,"setData"],[42,17,52,15],[42,18,52,16,"value"],[42,23,52,21],[42,24,52,22],[43,10,53,8,"dataRef"],[43,17,53,15],[43,18,53,16,"current"],[43,25,53,23],[43,28,53,26,"value"],[43,33,53,31],[44,8,54,6],[45,6,55,4],[45,7,55,5],[45,8,55,6],[46,6,56,4],[46,13,56,11],[46,19,56,17],[47,8,57,6,"mounted"],[47,15,57,13],[47,16,57,14,"current"],[47,23,57,21],[47,26,57,24],[47,31,57,29],[48,6,58,4],[48,7,58,5],[49,6,59,4],[50,4,60,2],[50,5,60,3],[50,7,60,5],[50,8,60,6,"source"],[50,14,60,12],[50,15,60,13],[50,16,60,14],[51,4,61,2],[51,11,61,9,"data"],[51,15,61,13],[52,2,62,0],[52,3,62,1],[53,2,64,7],[53,6,64,13,"useCollectionLoading"],[53,26,64,33],[53,29,64,36,"useCollectionLoading"],[53,30,65,2,"source"],[53,36,65,27],[53,38,66,2,"loader"],[53,44,66,37],[53,49,67,5],[54,4,68,2],[54,8,68,8,"mounted"],[54,15,68,15],[54,18,68,18],[54,22,68,18,"useRef"],[54,35,68,24],[54,37,68,25],[54,42,68,30],[54,43,68,31],[55,4,69,2],[55,8,69,2,"_useState3"],[55,18,69,2],[55,21,69,26],[55,25,69,26,"useState"],[55,40,69,34],[55,42,69,47],[55,46,69,51],[55,47,69,52],[56,6,69,52,"_useState4"],[56,16,69,52],[56,23,69,52,"_slicedToArray2"],[56,38,69,52],[56,39,69,52,"default"],[56,46,69,52],[56,48,69,52,"_useState3"],[56,58,69,52],[57,6,69,9,"data"],[57,10,69,13],[57,13,69,13,"_useState4"],[57,23,69,13],[58,6,69,15,"setData"],[58,13,69,22],[58,16,69,22,"_useState4"],[58,26,69,22],[59,4,70,2],[59,8,70,8,"dataRef"],[59,15,70,15],[59,18,70,18],[59,22,70,18,"useRef"],[59,35,70,24],[59,37,70,37],[59,41,70,41],[59,42,70,42],[60,4,72,2],[60,8,72,2,"useEffect"],[60,24,72,11],[60,26,72,12],[60,32,72,18],[61,6,73,4,"mounted"],[61,13,73,11],[61,14,73,12,"current"],[61,21,73,19],[61,24,73,22],[61,28,73,26],[62,6,74,4,"loader"],[62,12,74,10],[62,13,74,11],[62,14,74,12],[62,15,74,13,"then"],[62,19,74,17],[62,20,74,19,"result"],[62,26,74,25],[62,30,74,30],[63,8,75,6],[63,12,75,12,"value"],[63,17,75,17],[63,20,75,20,"result"],[63,26,75,26],[63,27,75,27,"filter"],[63,33,75,33],[63,34,75,35,"r"],[63,35,75,36],[63,39,75,41,"r"],[63,40,75,42],[63,45,75,47],[63,49,75,51],[63,50,75,59],[64,8,76,6],[64,12,76,10,"mounted"],[64,19,76,17],[64,20,76,18,"current"],[64,27,76,25],[64,29,76,27],[65,10,77,8,"setData"],[65,17,77,15],[65,18,77,16,"value"],[65,23,77,21],[65,24,77,22],[66,10,78,8,"dataRef"],[66,17,78,15],[66,18,78,16,"current"],[66,25,78,23],[66,28,78,26,"value"],[66,33,78,31],[67,8,79,6],[68,6,80,4],[68,7,80,5],[68,8,80,6],[69,6,82,4],[69,13,82,11],[69,19,82,17],[70,8,83,6,"mounted"],[70,15,83,13],[70,16,83,14,"current"],[70,23,83,21],[70,26,83,24],[70,31,83,29],[71,6,84,4],[71,7,84,5],[73,6,86,4],[74,4,87,2],[74,5,87,3],[74,7,87,5],[74,8,87,6,"source"],[74,14,87,12],[74,15,87,13],[74,16,87,14],[75,4,89,2],[75,11,89,9,"data"],[75,15,89,13],[76,2,90,0],[76,3,90,1],[77,2,90,2,"exports"],[77,9,90,2],[77,10,90,2,"useCollectionLoading"],[77,30,90,2],[77,33,90,2,"useCollectionLoading"],[77,53,90,2],[78,2,92,7],[78,6,92,13,"useRawData"],[78,16,92,23],[78,19,92,26,"useRawData"],[78,20,93,2,"source"],[78,26,93,25],[78,28,94,2,"factory"],[78,35,94,37],[78,37,95,2,"onError"],[78,44,95,32],[78,49,96,5,"useLoading"],[78,59,96,15],[78,60,96,16,"source"],[78,66,96,22],[78,68,96,24],[78,74,96,30,"loadData"],[78,82,96,38],[78,83,96,42,"source"],[78,89,96,48],[78,91,96,50,"factory"],[78,98,96,57],[78,100,96,59,"onError"],[78,107,96,66],[78,108,96,67],[78,109,96,68],[79,2,96,69,"exports"],[79,9,96,69],[79,10,96,69,"useRawData"],[79,20,96,69],[79,23,96,69,"useRawData"],[79,33,96,69],[80,2,98,0],[80,6,98,6,"identity"],[80,14,98,14],[80,17,98,18,"data"],[80,21,98,30],[80,25,98,35,"data"],[80,29,98,39],[81,2,100,7],[81,6,100,13,"useData"],[81,13,100,20],[81,16,100,23,"useData"],[81,17,101,2,"source"],[81,23,101,25],[81,25,102,2,"onError"],[81,32,102,32],[81,37,103,5,"useRawData"],[81,47,103,15],[81,48,103,16,"source"],[81,54,103,22],[81,56,103,24,"identity"],[81,64,103,32],[81,66,103,34,"onError"],[81,73,103,41],[81,74,103,42],[82,2,103,43,"exports"],[82,9,103,43],[82,10,103,43,"useData"],[82,17,103,43],[82,20,103,43,"useData"],[82,27,103,43],[83,0,103,43],[83,3]],"functionMap":{"names":["<global>","factoryWrapper","loadData","Promise$argument_0","Skia.Data.fromURI.then$argument_0","useLoading","useEffect$argument_0","loader.then$argument_0","<anonymous>","useCollectionLoading","result.filter$argument_0","useRawData","useLoading$argument_1","identity","useData"],"mappings":"AAA;uBCM;CDY;wBEE;uBCM,0BD;uBCE;4EDC;uCEK;yCFC;CFG;mBKE;YCO;kBCE;KDK;WEC;KFE;GDE;CLE;oCSE;YHQ;kBCE;kCGC,iBH;KDK;WEE;KFE;GGG;CTG;0BWE;wBCI,2CD,CX;iBaE,sBb;uBcE;0CdG"}},"type":"js/module"}]}