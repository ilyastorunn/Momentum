{"dependencies":[{"name":"@sentry/browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":31},"end":{"line":2,"column":61,"index":92}}],"key":"v/L5aEun9KHJcPUBAUY+UgyCfuU=","exportNames":["*"]}},{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":41,"index":134}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"]}},{"name":"../utils/environment","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":135},"end":{"line":4,"column":45,"index":180}}],"key":"ZHbdf+zAJuwAaiIxqWoPGRJz4oo=","exportNames":["*"]}},{"name":"./../integrations/debugsymbolicatorutils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":181},"end":{"line":5,"column":72,"index":253}}],"key":"nUqhHiztfuAdMFFfqd4U6Ns6Szo=","exportNames":["*"]}},{"name":"./span","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":254},"end":{"line":6,"column":90,"index":344}}],"key":"WASfu1uBL/rVwi9nIGl911GmKqk=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.defaultReactNativeTracingOptions = exports.INTEGRATION_NAME = void 0;\n  exports.getCurrentReactNativeTracingIntegration = getCurrentReactNativeTracingIntegration;\n  exports.getReactNativeTracingIntegration = getReactNativeTracingIntegration;\n  exports.reactNativeTracingIntegration = void 0;\n  var _browser = require(_dependencyMap[0], \"@sentry/browser\");\n  var _core = require(_dependencyMap[1], \"@sentry/core\");\n  var _environment = require(_dependencyMap[2], \"../utils/environment\");\n  var _debugsymbolicatorutils = require(_dependencyMap[3], \"./../integrations/debugsymbolicatorutils\");\n  var _span = require(_dependencyMap[4], \"./span\");\n  /* eslint-disable max-lines */\n\n  const INTEGRATION_NAME = exports.INTEGRATION_NAME = 'ReactNativeTracing';\n  function getDefaultTracePropagationTargets() {\n    if ((0, _environment.isWeb)()) {\n      return undefined;\n    }\n    return [/.*/];\n  }\n  const defaultReactNativeTracingOptions = exports.defaultReactNativeTracingOptions = {\n    // Fetch in React Native is a `whatwg-fetch` polyfill which uses XHR under the hood.\n    // This causes duplicates when both `traceFetch` and `traceXHR` are enabled at the same time.\n    // https://github.com/facebook/react-native/blob/28945c68da056ab2ac01de7e542a845b2bca6096/packages/react-native/Libraries/Network/fetch.js\n    // (RN Web uses browsers native fetch implementation)\n    traceFetch: (0, _environment.isWeb)() ? true : false,\n    traceXHR: true,\n    enableHTTPTimings: true\n  };\n  const reactNativeTracingIntegration = (options = {}) => {\n    var _a, _b, _c, _d;\n    const state = {\n      currentRoute: undefined\n    };\n    const finalOptions = Object.assign(Object.assign(Object.assign({}, defaultReactNativeTracingOptions), options), {\n      beforeStartSpan: (_a = options.beforeStartSpan) !== null && _a !== void 0 ? _a : options => options,\n      finalTimeoutMs: (_b = options.finalTimeoutMs) !== null && _b !== void 0 ? _b : _span.defaultIdleOptions.finalTimeout,\n      idleTimeoutMs: (_c = options.idleTimeoutMs) !== null && _c !== void 0 ? _c : _span.defaultIdleOptions.idleTimeout\n    });\n    const userShouldCreateSpanForRequest = finalOptions.shouldCreateSpanForRequest;\n    // Drop Dev Server Spans\n    const devServerUrl = (_d = (0, _debugsymbolicatorutils.getDevServer)()) === null || _d === void 0 ? void 0 : _d.url;\n    const finalShouldCreateSpanForRequest = devServerUrl === undefined ? userShouldCreateSpanForRequest : url => {\n      if (url.startsWith(devServerUrl)) {\n        return false;\n      }\n      if (userShouldCreateSpanForRequest) {\n        return userShouldCreateSpanForRequest(url);\n      }\n      return true;\n    };\n    finalOptions.shouldCreateSpanForRequest = finalShouldCreateSpanForRequest;\n    const setup = client => {\n      (0, _span.addDefaultOpForSpanFrom)(client);\n      (0, _span.addThreadInfoToSpan)(client);\n      (0, _browser.instrumentOutgoingRequests)(client, {\n        traceFetch: finalOptions.traceFetch,\n        traceXHR: finalOptions.traceXHR,\n        shouldCreateSpanForRequest: finalOptions.shouldCreateSpanForRequest,\n        tracePropagationTargets: client.getOptions().tracePropagationTargets || getDefaultTracePropagationTargets()\n      });\n    };\n    const processEvent = event => {\n      if (event.contexts && state.currentRoute) {\n        event.contexts.app = Object.assign({\n          view_names: [state.currentRoute]\n        }, event.contexts.app);\n      }\n      return event;\n    };\n    return {\n      name: INTEGRATION_NAME,\n      setup,\n      processEvent,\n      options: finalOptions,\n      state,\n      setCurrentRoute: route => {\n        state.currentRoute = route;\n      }\n    };\n  };\n  /**\n   * Returns the current React Native Tracing integration.\n   */\n  exports.reactNativeTracingIntegration = reactNativeTracingIntegration;\n  function getCurrentReactNativeTracingIntegration() {\n    const client = (0, _core.getClient)();\n    if (!client) {\n      return undefined;\n    }\n    return getReactNativeTracingIntegration(client);\n  }\n  /**\n   * Returns React Native Tracing integration of given client.\n   */\n  function getReactNativeTracingIntegration(client) {\n    return client.getIntegrationByName(INTEGRATION_NAME);\n  }\n});","lineCount":101,"map":[[9,2,2,0],[9,6,2,0,"_browser"],[9,14,2,0],[9,17,2,0,"require"],[9,24,2,0],[9,25,2,0,"_dependencyMap"],[9,39,2,0],[10,2,3,0],[10,6,3,0,"_core"],[10,11,3,0],[10,14,3,0,"require"],[10,21,3,0],[10,22,3,0,"_dependencyMap"],[10,36,3,0],[11,2,4,0],[11,6,4,0,"_environment"],[11,18,4,0],[11,21,4,0,"require"],[11,28,4,0],[11,29,4,0,"_dependencyMap"],[11,43,4,0],[12,2,5,0],[12,6,5,0,"_debugsymbolicatorutils"],[12,29,5,0],[12,32,5,0,"require"],[12,39,5,0],[12,40,5,0,"_dependencyMap"],[12,54,5,0],[13,2,6,0],[13,6,6,0,"_span"],[13,11,6,0],[13,14,6,0,"require"],[13,21,6,0],[13,22,6,0,"_dependencyMap"],[13,36,6,0],[14,2,1,0],[16,2,7,7],[16,8,7,13,"INTEGRATION_NAME"],[16,24,7,29],[16,27,7,29,"exports"],[16,34,7,29],[16,35,7,29,"INTEGRATION_NAME"],[16,51,7,29],[16,54,7,32],[16,74,7,52],[17,2,8,0],[17,11,8,9,"getDefaultTracePropagationTargets"],[17,44,8,42,"getDefaultTracePropagationTargets"],[17,45,8,42],[17,47,8,45],[18,4,9,4],[18,8,9,8],[18,12,9,8,"isWeb"],[18,30,9,13],[18,32,9,14],[18,33,9,15],[18,35,9,17],[19,6,10,8],[19,13,10,15,"undefined"],[19,22,10,24],[20,4,11,4],[21,4,12,4],[21,11,12,11],[21,12,12,12],[21,16,12,16],[21,17,12,17],[22,2,13,0],[23,2,14,7],[23,8,14,13,"defaultReactNativeTracingOptions"],[23,40,14,45],[23,43,14,45,"exports"],[23,50,14,45],[23,51,14,45,"defaultReactNativeTracingOptions"],[23,83,14,45],[23,86,14,48],[24,4,15,4],[25,4,16,4],[26,4,17,4],[27,4,18,4],[28,4,19,4,"traceFetch"],[28,14,19,14],[28,16,19,16],[28,20,19,16,"isWeb"],[28,38,19,21],[28,40,19,22],[28,41,19,23],[28,44,19,26],[28,48,19,30],[28,51,19,33],[28,56,19,38],[29,4,20,4,"traceXHR"],[29,12,20,12],[29,14,20,14],[29,18,20,18],[30,4,21,4,"enableHTTPTimings"],[30,21,21,21],[30,23,21,23],[31,2,22,0],[31,3,22,1],[32,2,23,7],[32,8,23,13,"reactNativeTracingIntegration"],[32,37,23,42],[32,40,23,45,"reactNativeTracingIntegration"],[32,41,23,46,"options"],[32,48,23,53],[32,51,23,56],[32,52,23,57],[32,53,23,58],[32,58,23,63],[33,4,24,4],[33,8,24,8,"_a"],[33,10,24,10],[33,12,24,12,"_b"],[33,14,24,14],[33,16,24,16,"_c"],[33,18,24,18],[33,20,24,20,"_d"],[33,22,24,22],[34,4,25,4],[34,10,25,10,"state"],[34,15,25,15],[34,18,25,18],[35,6,26,8,"currentRoute"],[35,18,26,20],[35,20,26,22,"undefined"],[36,4,27,4],[36,5,27,5],[37,4,28,4],[37,10,28,10,"finalOptions"],[37,22,28,22],[37,25,28,25,"Object"],[37,31,28,31],[37,32,28,32,"assign"],[37,38,28,38],[37,39,28,39,"Object"],[37,45,28,45],[37,46,28,46,"assign"],[37,52,28,52],[37,53,28,53,"Object"],[37,59,28,59],[37,60,28,60,"assign"],[37,66,28,66],[37,67,28,67],[37,68,28,68],[37,69,28,69],[37,71,28,71,"defaultReactNativeTracingOptions"],[37,103,28,103],[37,104,28,104],[37,106,28,106,"options"],[37,113,28,113],[37,114,28,114],[37,116,28,116],[38,6,28,118,"beforeStartSpan"],[38,21,28,133],[38,23,28,135],[38,24,28,136,"_a"],[38,26,28,138],[38,29,28,141,"options"],[38,36,28,148],[38,37,28,149,"beforeStartSpan"],[38,52,28,164],[38,58,28,170],[38,62,28,174],[38,66,28,178,"_a"],[38,68,28,180],[38,73,28,185],[38,78,28,190],[38,79,28,191],[38,82,28,194,"_a"],[38,84,28,196],[38,87,28,201,"options"],[38,94,28,208],[38,98,28,213,"options"],[38,105,28,221],[39,6,28,223,"finalTimeoutMs"],[39,20,28,237],[39,22,28,239],[39,23,28,240,"_b"],[39,25,28,242],[39,28,28,245,"options"],[39,35,28,252],[39,36,28,253,"finalTimeoutMs"],[39,50,28,267],[39,56,28,273],[39,60,28,277],[39,64,28,281,"_b"],[39,66,28,283],[39,71,28,288],[39,76,28,293],[39,77,28,294],[39,80,28,297,"_b"],[39,82,28,299],[39,85,28,302,"defaultIdleOptions"],[39,109,28,320],[39,110,28,321,"finalTimeout"],[39,122,28,333],[40,6,28,335,"idleTimeoutMs"],[40,19,28,348],[40,21,28,350],[40,22,28,351,"_c"],[40,24,28,353],[40,27,28,356,"options"],[40,34,28,363],[40,35,28,364,"idleTimeoutMs"],[40,48,28,377],[40,54,28,383],[40,58,28,387],[40,62,28,391,"_c"],[40,64,28,393],[40,69,28,398],[40,74,28,403],[40,75,28,404],[40,78,28,407,"_c"],[40,80,28,409],[40,83,28,412,"defaultIdleOptions"],[40,107,28,430],[40,108,28,431,"idleTimeout"],[41,4,28,443],[41,5,28,444],[41,6,28,445],[42,4,29,4],[42,10,29,10,"userShouldCreateSpanForRequest"],[42,40,29,40],[42,43,29,43,"finalOptions"],[42,55,29,55],[42,56,29,56,"shouldCreateSpanForRequest"],[42,82,29,82],[43,4,30,4],[44,4,31,4],[44,10,31,10,"devServerUrl"],[44,22,31,22],[44,25,31,25],[44,26,31,26,"_d"],[44,28,31,28],[44,31,31,31],[44,35,31,31,"getDevServer"],[44,71,31,43],[44,73,31,44],[44,74,31,45],[44,80,31,51],[44,84,31,55],[44,88,31,59,"_d"],[44,90,31,61],[44,95,31,66],[44,100,31,71],[44,101,31,72],[44,104,31,75],[44,109,31,80],[44,110,31,81],[44,113,31,84,"_d"],[44,115,31,86],[44,116,31,87,"url"],[44,119,31,90],[45,4,32,4],[45,10,32,10,"finalShouldCreateSpanForRequest"],[45,41,32,41],[45,44,32,44,"devServerUrl"],[45,56,32,56],[45,61,32,61,"undefined"],[45,70,32,70],[45,73,33,10,"userShouldCreateSpanForRequest"],[45,103,33,40],[45,106,34,11,"url"],[45,109,34,14],[45,113,34,19],[46,6,35,12],[46,10,35,16,"url"],[46,13,35,19],[46,14,35,20,"startsWith"],[46,24,35,30],[46,25,35,31,"devServerUrl"],[46,37,35,43],[46,38,35,44],[46,40,35,46],[47,8,36,16],[47,15,36,23],[47,20,36,28],[48,6,37,12],[49,6,38,12],[49,10,38,16,"userShouldCreateSpanForRequest"],[49,40,38,46],[49,42,38,48],[50,8,39,16],[50,15,39,23,"userShouldCreateSpanForRequest"],[50,45,39,53],[50,46,39,54,"url"],[50,49,39,57],[50,50,39,58],[51,6,40,12],[52,6,41,12],[52,13,41,19],[52,17,41,23],[53,4,42,8],[53,5,42,9],[54,4,43,4,"finalOptions"],[54,16,43,16],[54,17,43,17,"shouldCreateSpanForRequest"],[54,43,43,43],[54,46,43,46,"finalShouldCreateSpanForRequest"],[54,77,43,77],[55,4,44,4],[55,10,44,10,"setup"],[55,15,44,15],[55,18,44,19,"client"],[55,24,44,25],[55,28,44,30],[56,6,45,8],[56,10,45,8,"addDefaultOpForSpanFrom"],[56,39,45,31],[56,41,45,32,"client"],[56,47,45,38],[56,48,45,39],[57,6,46,8],[57,10,46,8,"addThreadInfoToSpan"],[57,35,46,27],[57,37,46,28,"client"],[57,43,46,34],[57,44,46,35],[58,6,47,8],[58,10,47,8,"instrumentOutgoingRequests"],[58,45,47,34],[58,47,47,35,"client"],[58,53,47,41],[58,55,47,43],[59,8,48,12,"traceFetch"],[59,18,48,22],[59,20,48,24,"finalOptions"],[59,32,48,36],[59,33,48,37,"traceFetch"],[59,43,48,47],[60,8,49,12,"traceXHR"],[60,16,49,20],[60,18,49,22,"finalOptions"],[60,30,49,34],[60,31,49,35,"traceXHR"],[60,39,49,43],[61,8,50,12,"shouldCreateSpanForRequest"],[61,34,50,38],[61,36,50,40,"finalOptions"],[61,48,50,52],[61,49,50,53,"shouldCreateSpanForRequest"],[61,75,50,79],[62,8,51,12,"tracePropagationTargets"],[62,31,51,35],[62,33,51,37,"client"],[62,39,51,43],[62,40,51,44,"getOptions"],[62,50,51,54],[62,51,51,55],[62,52,51,56],[62,53,51,57,"tracePropagationTargets"],[62,76,51,80],[62,80,51,84,"getDefaultTracePropagationTargets"],[62,113,51,117],[62,114,51,118],[63,6,52,8],[63,7,52,9],[63,8,52,10],[64,4,53,4],[64,5,53,5],[65,4,54,4],[65,10,54,10,"processEvent"],[65,22,54,22],[65,25,54,26,"event"],[65,30,54,31],[65,34,54,36],[66,6,55,8],[66,10,55,12,"event"],[66,15,55,17],[66,16,55,18,"contexts"],[66,24,55,26],[66,28,55,30,"state"],[66,33,55,35],[66,34,55,36,"currentRoute"],[66,46,55,48],[66,48,55,50],[67,8,56,12,"event"],[67,13,56,17],[67,14,56,18,"contexts"],[67,22,56,26],[67,23,56,27,"app"],[67,26,56,30],[67,29,56,33,"Object"],[67,35,56,39],[67,36,56,40,"assign"],[67,42,56,46],[67,43,56,47],[68,10,56,49,"view_names"],[68,20,56,59],[68,22,56,61],[68,23,56,62,"state"],[68,28,56,67],[68,29,56,68,"currentRoute"],[68,41,56,80],[69,8,56,82],[69,9,56,83],[69,11,56,85,"event"],[69,16,56,90],[69,17,56,91,"contexts"],[69,25,56,99],[69,26,56,100,"app"],[69,29,56,103],[69,30,56,104],[70,6,57,8],[71,6,58,8],[71,13,58,15,"event"],[71,18,58,20],[72,4,59,4],[72,5,59,5],[73,4,60,4],[73,11,60,11],[74,6,61,8,"name"],[74,10,61,12],[74,12,61,14,"INTEGRATION_NAME"],[74,28,61,30],[75,6,62,8,"setup"],[75,11,62,13],[76,6,63,8,"processEvent"],[76,18,63,20],[77,6,64,8,"options"],[77,13,64,15],[77,15,64,17,"finalOptions"],[77,27,64,29],[78,6,65,8,"state"],[78,11,65,13],[79,6,66,8,"setCurrentRoute"],[79,21,66,23],[79,23,66,26,"route"],[79,28,66,31],[79,32,66,36],[80,8,67,12,"state"],[80,13,67,17],[80,14,67,18,"currentRoute"],[80,26,67,30],[80,29,67,33,"route"],[80,34,67,38],[81,6,68,8],[82,4,69,4],[82,5,69,5],[83,2,70,0],[83,3,70,1],[84,2,71,0],[85,0,72,0],[86,0,73,0],[87,2,71,0,"exports"],[87,9,71,0],[87,10,71,0,"reactNativeTracingIntegration"],[87,39,71,0],[87,42,71,0,"reactNativeTracingIntegration"],[87,71,71,0],[88,2,74,7],[88,11,74,16,"getCurrentReactNativeTracingIntegration"],[88,50,74,55,"getCurrentReactNativeTracingIntegration"],[88,51,74,55],[88,53,74,58],[89,4,75,4],[89,10,75,10,"client"],[89,16,75,16],[89,19,75,19],[89,23,75,19,"getClient"],[89,38,75,28],[89,40,75,29],[89,41,75,30],[90,4,76,4],[90,8,76,8],[90,9,76,9,"client"],[90,15,76,15],[90,17,76,17],[91,6,77,8],[91,13,77,15,"undefined"],[91,22,77,24],[92,4,78,4],[93,4,79,4],[93,11,79,11,"getReactNativeTracingIntegration"],[93,43,79,43],[93,44,79,44,"client"],[93,50,79,50],[93,51,79,51],[94,2,80,0],[95,2,81,0],[96,0,82,0],[97,0,83,0],[98,2,84,7],[98,11,84,16,"getReactNativeTracingIntegration"],[98,43,84,48,"getReactNativeTracingIntegration"],[98,44,84,49,"client"],[98,50,84,55],[98,52,84,57],[99,4,85,4],[99,11,85,11,"client"],[99,17,85,17],[99,18,85,18,"getIntegrationByName"],[99,38,85,38],[99,39,85,39,"INTEGRATION_NAME"],[99,55,85,55],[99,56,85,56],[100,2,86,0],[101,0,86,1],[101,3]],"functionMap":{"names":["<global>","getDefaultTracePropagationTargets","reactNativeTracingIntegration","<anonymous>","setup","processEvent","setCurrentRoute","getCurrentReactNativeTracingIntegration","getReactNativeTracingIntegration"],"mappings":"AAA;ACO;CDK;6CEU;wMCK,oBD;UCM;SDQ;kBEE;KFS;yBGC;KHK;yBIO;SJE;CFE;OOI;CPM;OQI;CRE"}},"type":"js/module"}]}