{"dependencies":[{"name":"../utils/environment","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":181,"index":181}}],"key":"ZHbdf+zAJuwAaiIxqWoPGRJz4oo=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.reactNativeInfoIntegration = void 0;\n  var _environment = require(_dependencyMap[0], \"../utils/environment\");\n  const INTEGRATION_NAME = 'ReactNativeInfo';\n  /** Loads React Native context at runtime */\n  const reactNativeInfoIntegration = () => {\n    return {\n      name: INTEGRATION_NAME,\n      setupOnce: () => {\n        // noop\n      },\n      processEvent\n    };\n  };\n  exports.reactNativeInfoIntegration = reactNativeInfoIntegration;\n  function processEvent(event, hint) {\n    const reactNativeError = (hint === null || hint === void 0 ? void 0 : hint.originalException) ? hint === null || hint === void 0 ? void 0 : hint.originalException : undefined;\n    const reactNativeContext = {\n      turbo_module: (0, _environment.isTurboModuleEnabled)(),\n      fabric: (0, _environment.isFabricEnabled)(),\n      react_native_version: (0, _environment.getReactNativeVersion)(),\n      expo: (0, _environment.isExpo)()\n    };\n    if ((0, _environment.isHermesEnabled)()) {\n      reactNativeContext.js_engine = 'hermes';\n      const hermesVersion = (0, _environment.getHermesVersion)();\n      if (hermesVersion) {\n        reactNativeContext.hermes_version = hermesVersion;\n      }\n      reactNativeContext.hermes_debug_info = !isEventWithHermesBytecodeFrames(event);\n    } else if (reactNativeError === null || reactNativeError === void 0 ? void 0 : reactNativeError.jsEngine) {\n      reactNativeContext.js_engine = reactNativeError.jsEngine;\n    }\n    if (reactNativeContext.js_engine === 'hermes') {\n      event.tags = Object.assign({\n        hermes: 'true'\n      }, event.tags);\n    }\n    if (reactNativeError === null || reactNativeError === void 0 ? void 0 : reactNativeError.componentStack) {\n      reactNativeContext.component_stack = reactNativeError.componentStack;\n    }\n    const expoGoVersion = (0, _environment.getExpoGoVersion)();\n    if (expoGoVersion) {\n      reactNativeContext.expo_go_version = expoGoVersion;\n    }\n    const expoSdkVersion = (0, _environment.getExpoSdkVersion)();\n    if (expoSdkVersion) {\n      reactNativeContext.expo_sdk_version = expoSdkVersion;\n    }\n    event.contexts = Object.assign({\n      react_native_context: reactNativeContext\n    }, event.contexts);\n    return event;\n  }\n  /**\n   * Guess if the event contains frames with Hermes bytecode\n   * (thus Hermes bundle doesn't contain debug info)\n   * based on the event exception/threads frames.\n   *\n   * This function can be relied on only if Hermes is enabled!\n   *\n   * Hermes bytecode position is always line 1 and column 0-based number.\n   * If Hermes bundle has debug info, the bytecode frames pos are calculated\n   * back to the plain bundle source code positions and line will be > 1.\n   *\n   * Line 1 contains start time var, it's safe to assume it won't crash.\n   * The above only applies when Hermes is enabled.\n   *\n   * Javascript/Hermes bytecode frames have platform === undefined.\n   * Native (Java, ObjC, C++) frames have platform === 'android'/'ios'/'native'.\n   */\n  function isEventWithHermesBytecodeFrames(event) {\n    var _a, _b, _c;\n    for (const value of ((_a = event.exception) === null || _a === void 0 ? void 0 : _a.values) || ((_b = event.threads) === null || _b === void 0 ? void 0 : _b.values) || []) {\n      for (const frame of ((_c = value.stacktrace) === null || _c === void 0 ? void 0 : _c.frames) || []) {\n        // platform === undefined we assume it's javascript (only native frames use the platform attribute)\n        if (frame.platform === undefined && frame.lineno === 1) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n});","lineCount":87,"map":[[6,2,1,0],[6,6,1,0,"_environment"],[6,18,1,0],[6,21,1,0,"require"],[6,28,1,0],[6,29,1,0,"_dependencyMap"],[6,43,1,0],[7,2,2,0],[7,8,2,6,"INTEGRATION_NAME"],[7,24,2,22],[7,27,2,25],[7,44,2,42],[8,2,3,0],[9,2,4,7],[9,8,4,13,"reactNativeInfoIntegration"],[9,34,4,39],[9,37,4,42,"reactNativeInfoIntegration"],[9,38,4,42],[9,43,4,48],[10,4,5,4],[10,11,5,11],[11,6,6,8,"name"],[11,10,6,12],[11,12,6,14,"INTEGRATION_NAME"],[11,28,6,30],[12,6,7,8,"setupOnce"],[12,15,7,17],[12,17,7,19,"setupOnce"],[12,18,7,19],[12,23,7,25],[13,8,8,12],[14,6,8,12],[14,7,9,9],[15,6,10,8,"processEvent"],[16,4,11,4],[16,5,11,5],[17,2,12,0],[17,3,12,1],[18,2,12,2,"exports"],[18,9,12,2],[18,10,12,2,"reactNativeInfoIntegration"],[18,36,12,2],[18,39,12,2,"reactNativeInfoIntegration"],[18,65,12,2],[19,2,13,0],[19,11,13,9,"processEvent"],[19,23,13,21,"processEvent"],[19,24,13,22,"event"],[19,29,13,27],[19,31,13,29,"hint"],[19,35,13,33],[19,37,13,35],[20,4,14,4],[20,10,14,10,"reactNativeError"],[20,26,14,26],[20,29,14,29],[20,30,14,30,"hint"],[20,34,14,34],[20,39,14,39],[20,43,14,43],[20,47,14,47,"hint"],[20,51,14,51],[20,56,14,56],[20,61,14,61],[20,62,14,62],[20,65,14,65],[20,70,14,70],[20,71,14,71],[20,74,14,74,"hint"],[20,78,14,78],[20,79,14,79,"originalException"],[20,96,14,96],[20,100,14,100,"hint"],[20,104,14,104],[20,109,14,109],[20,113,14,113],[20,117,14,117,"hint"],[20,121,14,121],[20,126,14,126],[20,131,14,131],[20,132,14,132],[20,135,14,135],[20,140,14,140],[20,141,14,141],[20,144,14,144,"hint"],[20,148,14,148],[20,149,14,149,"originalException"],[20,166,14,166],[20,169,14,169,"undefined"],[20,178,14,178],[21,4,15,4],[21,10,15,10,"reactNativeContext"],[21,28,15,28],[21,31,15,31],[22,6,16,8,"turbo_module"],[22,18,16,20],[22,20,16,22],[22,24,16,22,"isTurboModuleEnabled"],[22,57,16,42],[22,59,16,43],[22,60,16,44],[23,6,17,8,"fabric"],[23,12,17,14],[23,14,17,16],[23,18,17,16,"isFabricEnabled"],[23,46,17,31],[23,48,17,32],[23,49,17,33],[24,6,18,8,"react_native_version"],[24,26,18,28],[24,28,18,30],[24,32,18,30,"getReactNativeVersion"],[24,66,18,51],[24,68,18,52],[24,69,18,53],[25,6,19,8,"expo"],[25,10,19,12],[25,12,19,14],[25,16,19,14,"isExpo"],[25,35,19,20],[25,37,19,21],[26,4,20,4],[26,5,20,5],[27,4,21,4],[27,8,21,8],[27,12,21,8,"isHermesEnabled"],[27,40,21,23],[27,42,21,24],[27,43,21,25],[27,45,21,27],[28,6,22,8,"reactNativeContext"],[28,24,22,26],[28,25,22,27,"js_engine"],[28,34,22,36],[28,37,22,39],[28,45,22,47],[29,6,23,8],[29,12,23,14,"hermesVersion"],[29,25,23,27],[29,28,23,30],[29,32,23,30,"getHermesVersion"],[29,61,23,46],[29,63,23,47],[29,64,23,48],[30,6,24,8],[30,10,24,12,"hermesVersion"],[30,23,24,25],[30,25,24,27],[31,8,25,12,"reactNativeContext"],[31,26,25,30],[31,27,25,31,"hermes_version"],[31,41,25,45],[31,44,25,48,"hermesVersion"],[31,57,25,61],[32,6,26,8],[33,6,27,8,"reactNativeContext"],[33,24,27,26],[33,25,27,27,"hermes_debug_info"],[33,42,27,44],[33,45,27,47],[33,46,27,48,"isEventWithHermesBytecodeFrames"],[33,77,27,79],[33,78,27,80,"event"],[33,83,27,85],[33,84,27,86],[34,4,28,4],[34,5,28,5],[34,11,29,9],[34,15,29,13,"reactNativeError"],[34,31,29,29],[34,36,29,34],[34,40,29,38],[34,44,29,42,"reactNativeError"],[34,60,29,58],[34,65,29,63],[34,70,29,68],[34,71,29,69],[34,74,29,72],[34,79,29,77],[34,80,29,78],[34,83,29,81,"reactNativeError"],[34,99,29,97],[34,100,29,98,"jsEngine"],[34,108,29,106],[34,110,29,108],[35,6,30,8,"reactNativeContext"],[35,24,30,26],[35,25,30,27,"js_engine"],[35,34,30,36],[35,37,30,39,"reactNativeError"],[35,53,30,55],[35,54,30,56,"jsEngine"],[35,62,30,64],[36,4,31,4],[37,4,32,4],[37,8,32,8,"reactNativeContext"],[37,26,32,26],[37,27,32,27,"js_engine"],[37,36,32,36],[37,41,32,41],[37,49,32,49],[37,51,32,51],[38,6,33,8,"event"],[38,11,33,13],[38,12,33,14,"tags"],[38,16,33,18],[38,19,33,21,"Object"],[38,25,33,27],[38,26,33,28,"assign"],[38,32,33,34],[38,33,33,35],[39,8,33,37,"hermes"],[39,14,33,43],[39,16,33,45],[40,6,33,52],[40,7,33,53],[40,9,33,55,"event"],[40,14,33,60],[40,15,33,61,"tags"],[40,19,33,65],[40,20,33,66],[41,4,34,4],[42,4,35,4],[42,8,35,8,"reactNativeError"],[42,24,35,24],[42,29,35,29],[42,33,35,33],[42,37,35,37,"reactNativeError"],[42,53,35,53],[42,58,35,58],[42,63,35,63],[42,64,35,64],[42,67,35,67],[42,72,35,72],[42,73,35,73],[42,76,35,76,"reactNativeError"],[42,92,35,92],[42,93,35,93,"componentStack"],[42,107,35,107],[42,109,35,109],[43,6,36,8,"reactNativeContext"],[43,24,36,26],[43,25,36,27,"component_stack"],[43,40,36,42],[43,43,36,45,"reactNativeError"],[43,59,36,61],[43,60,36,62,"componentStack"],[43,74,36,76],[44,4,37,4],[45,4,38,4],[45,10,38,10,"expoGoVersion"],[45,23,38,23],[45,26,38,26],[45,30,38,26,"getExpoGoVersion"],[45,59,38,42],[45,61,38,43],[45,62,38,44],[46,4,39,4],[46,8,39,8,"expoGoVersion"],[46,21,39,21],[46,23,39,23],[47,6,40,8,"reactNativeContext"],[47,24,40,26],[47,25,40,27,"expo_go_version"],[47,40,40,42],[47,43,40,45,"expoGoVersion"],[47,56,40,58],[48,4,41,4],[49,4,42,4],[49,10,42,10,"expoSdkVersion"],[49,24,42,24],[49,27,42,27],[49,31,42,27,"getExpoSdkVersion"],[49,61,42,44],[49,63,42,45],[49,64,42,46],[50,4,43,4],[50,8,43,8,"expoSdkVersion"],[50,22,43,22],[50,24,43,24],[51,6,44,8,"reactNativeContext"],[51,24,44,26],[51,25,44,27,"expo_sdk_version"],[51,41,44,43],[51,44,44,46,"expoSdkVersion"],[51,58,44,60],[52,4,45,4],[53,4,46,4,"event"],[53,9,46,9],[53,10,46,10,"contexts"],[53,18,46,18],[53,21,46,21,"Object"],[53,27,46,27],[53,28,46,28,"assign"],[53,34,46,34],[53,35,46,35],[54,6,46,37,"react_native_context"],[54,26,46,57],[54,28,46,59,"reactNativeContext"],[55,4,46,78],[55,5,46,79],[55,7,46,81,"event"],[55,12,46,86],[55,13,46,87,"contexts"],[55,21,46,95],[55,22,46,96],[56,4,47,4],[56,11,47,11,"event"],[56,16,47,16],[57,2,48,0],[58,2,49,0],[59,0,50,0],[60,0,51,0],[61,0,52,0],[62,0,53,0],[63,0,54,0],[64,0,55,0],[65,0,56,0],[66,0,57,0],[67,0,58,0],[68,0,59,0],[69,0,60,0],[70,0,61,0],[71,0,62,0],[72,0,63,0],[73,0,64,0],[74,0,65,0],[75,2,66,0],[75,11,66,9,"isEventWithHermesBytecodeFrames"],[75,42,66,40,"isEventWithHermesBytecodeFrames"],[75,43,66,41,"event"],[75,48,66,46],[75,50,66,48],[76,4,67,4],[76,8,67,8,"_a"],[76,10,67,10],[76,12,67,12,"_b"],[76,14,67,14],[76,16,67,16,"_c"],[76,18,67,18],[77,4,68,4],[77,9,68,9],[77,15,68,15,"value"],[77,20,68,20],[77,24,68,24],[77,25,68,25],[77,26,68,26,"_a"],[77,28,68,28],[77,31,68,31,"event"],[77,36,68,36],[77,37,68,37,"exception"],[77,46,68,46],[77,52,68,52],[77,56,68,56],[77,60,68,60,"_a"],[77,62,68,62],[77,67,68,67],[77,72,68,72],[77,73,68,73],[77,76,68,76],[77,81,68,81],[77,82,68,82],[77,85,68,85,"_a"],[77,87,68,87],[77,88,68,88,"values"],[77,94,68,94],[77,100,68,100],[77,101,68,101,"_b"],[77,103,68,103],[77,106,68,106,"event"],[77,111,68,111],[77,112,68,112,"threads"],[77,119,68,119],[77,125,68,125],[77,129,68,129],[77,133,68,133,"_b"],[77,135,68,135],[77,140,68,140],[77,145,68,145],[77,146,68,146],[77,149,68,149],[77,154,68,154],[77,155,68,155],[77,158,68,158,"_b"],[77,160,68,160],[77,161,68,161,"values"],[77,167,68,167],[77,168,68,168],[77,172,68,172],[77,174,68,174],[77,176,68,176],[78,6,69,8],[78,11,69,13],[78,17,69,19,"frame"],[78,22,69,24],[78,26,69,28],[78,27,69,29],[78,28,69,30,"_c"],[78,30,69,32],[78,33,69,35,"value"],[78,38,69,40],[78,39,69,41,"stacktrace"],[78,49,69,51],[78,55,69,57],[78,59,69,61],[78,63,69,65,"_c"],[78,65,69,67],[78,70,69,72],[78,75,69,77],[78,76,69,78],[78,79,69,81],[78,84,69,86],[78,85,69,87],[78,88,69,90,"_c"],[78,90,69,92],[78,91,69,93,"frames"],[78,97,69,99],[78,102,69,104],[78,104,69,106],[78,106,69,108],[79,8,70,12],[80,8,71,12],[80,12,71,16,"frame"],[80,17,71,21],[80,18,71,22,"platform"],[80,26,71,30],[80,31,71,35,"undefined"],[80,40,71,44],[80,44,71,48,"frame"],[80,49,71,53],[80,50,71,54,"lineno"],[80,56,71,60],[80,61,71,65],[80,62,71,66],[80,64,71,68],[81,10,72,16],[81,17,72,23],[81,21,72,27],[82,8,73,12],[83,6,74,8],[84,4,75,4],[85,4,76,4],[85,11,76,11],[85,16,76,16],[86,2,77,0],[87,0,77,1],[87,3]],"functionMap":{"names":["<global>","reactNativeInfoIntegration","setupOnce","processEvent","isEventWithHermesBytecodeFrames"],"mappings":"AAA;0CCG;mBCG;SDE;CDG;AGC;CHmC;AIkB;CJW"}},"type":"js/module"}]}