{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.SPAN_STATUS_UNSET = exports.SPAN_STATUS_OK = exports.SPAN_STATUS_ERROR = void 0;\n  exports.getSpanStatusFromHttpCode = getSpanStatusFromHttpCode;\n  exports.setHttpStatus = setHttpStatus;\n  const SPAN_STATUS_UNSET = exports.SPAN_STATUS_UNSET = 0;\n  const SPAN_STATUS_OK = exports.SPAN_STATUS_OK = 1;\n  const SPAN_STATUS_ERROR = exports.SPAN_STATUS_ERROR = 2;\n\n  /**\n   * Converts a HTTP status code into a sentry status with a message.\n   *\n   * @param httpStatus The HTTP response status code.\n   * @returns The span status or unknown_error.\n   */\n  // https://develop.sentry.dev/sdk/event-payloads/span/\n  function getSpanStatusFromHttpCode(httpStatus) {\n    if (httpStatus < 400 && httpStatus >= 100) {\n      return {\n        code: SPAN_STATUS_OK\n      };\n    }\n    if (httpStatus >= 400 && httpStatus < 500) {\n      switch (httpStatus) {\n        case 401:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'unauthenticated'\n          };\n        case 403:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'permission_denied'\n          };\n        case 404:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'not_found'\n          };\n        case 409:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'already_exists'\n          };\n        case 413:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'failed_precondition'\n          };\n        case 429:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'resource_exhausted'\n          };\n        case 499:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'cancelled'\n          };\n        default:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'invalid_argument'\n          };\n      }\n    }\n    if (httpStatus >= 500 && httpStatus < 600) {\n      switch (httpStatus) {\n        case 501:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'unimplemented'\n          };\n        case 503:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'unavailable'\n          };\n        case 504:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'deadline_exceeded'\n          };\n        default:\n          return {\n            code: SPAN_STATUS_ERROR,\n            message: 'internal_error'\n          };\n      }\n    }\n    return {\n      code: SPAN_STATUS_ERROR,\n      message: 'unknown_error'\n    };\n  }\n\n  /**\n   * Sets the Http status attributes on the current span based on the http code.\n   * Additionally, the span's status is updated, depending on the http code.\n   */\n  function setHttpStatus(span, httpStatus) {\n    span.setAttribute('http.response.status_code', httpStatus);\n    const spanStatus = getSpanStatusFromHttpCode(httpStatus);\n    if (spanStatus.message !== 'unknown_error') {\n      span.setStatus(spanStatus);\n    }\n  }\n});","lineCount":110,"map":[[8,2,1,0],[8,8,1,6,"SPAN_STATUS_UNSET"],[8,25,1,23],[8,28,1,23,"exports"],[8,35,1,23],[8,36,1,23,"SPAN_STATUS_UNSET"],[8,53,1,23],[8,56,1,26],[8,57,1,27],[9,2,2,0],[9,8,2,6,"SPAN_STATUS_OK"],[9,22,2,20],[9,25,2,20,"exports"],[9,32,2,20],[9,33,2,20,"SPAN_STATUS_OK"],[9,47,2,20],[9,50,2,23],[9,51,2,24],[10,2,3,0],[10,8,3,6,"SPAN_STATUS_ERROR"],[10,25,3,23],[10,28,3,23,"exports"],[10,35,3,23],[10,36,3,23,"SPAN_STATUS_ERROR"],[10,53,3,23],[10,56,3,26],[10,57,3,27],[12,2,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,2,11,0],[19,2,12,0],[19,11,12,9,"getSpanStatusFromHttpCode"],[19,36,12,34,"getSpanStatusFromHttpCode"],[19,37,12,35,"httpStatus"],[19,47,12,45],[19,49,12,47],[20,4,13,2],[20,8,13,6,"httpStatus"],[20,18,13,16],[20,21,13,19],[20,24,13,22],[20,28,13,26,"httpStatus"],[20,38,13,36],[20,42,13,40],[20,45,13,43],[20,47,13,45],[21,6,14,4],[21,13,14,11],[22,8,14,13,"code"],[22,12,14,17],[22,14,14,19,"SPAN_STATUS_OK"],[23,6,14,34],[23,7,14,35],[24,4,15,2],[25,4,17,2],[25,8,17,6,"httpStatus"],[25,18,17,16],[25,22,17,20],[25,25,17,23],[25,29,17,27,"httpStatus"],[25,39,17,37],[25,42,17,40],[25,45,17,43],[25,47,17,45],[26,6,18,4],[26,14,18,12,"httpStatus"],[26,24,18,22],[27,8,19,6],[27,13,19,11],[27,16,19,14],[28,10,20,8],[28,17,20,15],[29,12,20,17,"code"],[29,16,20,21],[29,18,20,23,"SPAN_STATUS_ERROR"],[29,35,20,40],[30,12,20,42,"message"],[30,19,20,49],[30,21,20,51],[31,10,20,69],[31,11,20,70],[32,8,21,6],[32,13,21,11],[32,16,21,14],[33,10,22,8],[33,17,22,15],[34,12,22,17,"code"],[34,16,22,21],[34,18,22,23,"SPAN_STATUS_ERROR"],[34,35,22,40],[35,12,22,42,"message"],[35,19,22,49],[35,21,22,51],[36,10,22,71],[36,11,22,72],[37,8,23,6],[37,13,23,11],[37,16,23,14],[38,10,24,8],[38,17,24,15],[39,12,24,17,"code"],[39,16,24,21],[39,18,24,23,"SPAN_STATUS_ERROR"],[39,35,24,40],[40,12,24,42,"message"],[40,19,24,49],[40,21,24,51],[41,10,24,63],[41,11,24,64],[42,8,25,6],[42,13,25,11],[42,16,25,14],[43,10,26,8],[43,17,26,15],[44,12,26,17,"code"],[44,16,26,21],[44,18,26,23,"SPAN_STATUS_ERROR"],[44,35,26,40],[45,12,26,42,"message"],[45,19,26,49],[45,21,26,51],[46,10,26,68],[46,11,26,69],[47,8,27,6],[47,13,27,11],[47,16,27,14],[48,10,28,8],[48,17,28,15],[49,12,28,17,"code"],[49,16,28,21],[49,18,28,23,"SPAN_STATUS_ERROR"],[49,35,28,40],[50,12,28,42,"message"],[50,19,28,49],[50,21,28,51],[51,10,28,73],[51,11,28,74],[52,8,29,6],[52,13,29,11],[52,16,29,14],[53,10,30,8],[53,17,30,15],[54,12,30,17,"code"],[54,16,30,21],[54,18,30,23,"SPAN_STATUS_ERROR"],[54,35,30,40],[55,12,30,42,"message"],[55,19,30,49],[55,21,30,51],[56,10,30,72],[56,11,30,73],[57,8,31,6],[57,13,31,11],[57,16,31,14],[58,10,32,8],[58,17,32,15],[59,12,32,17,"code"],[59,16,32,21],[59,18,32,23,"SPAN_STATUS_ERROR"],[59,35,32,40],[60,12,32,42,"message"],[60,19,32,49],[60,21,32,51],[61,10,32,63],[61,11,32,64],[62,8,33,6],[63,10,34,8],[63,17,34,15],[64,12,34,17,"code"],[64,16,34,21],[64,18,34,23,"SPAN_STATUS_ERROR"],[64,35,34,40],[65,12,34,42,"message"],[65,19,34,49],[65,21,34,51],[66,10,34,70],[66,11,34,71],[67,6,35,4],[68,4,36,2],[69,4,38,2],[69,8,38,6,"httpStatus"],[69,18,38,16],[69,22,38,20],[69,25,38,23],[69,29,38,27,"httpStatus"],[69,39,38,37],[69,42,38,40],[69,45,38,43],[69,47,38,45],[70,6,39,4],[70,14,39,12,"httpStatus"],[70,24,39,22],[71,8,40,6],[71,13,40,11],[71,16,40,14],[72,10,41,8],[72,17,41,15],[73,12,41,17,"code"],[73,16,41,21],[73,18,41,23,"SPAN_STATUS_ERROR"],[73,35,41,40],[74,12,41,42,"message"],[74,19,41,49],[74,21,41,51],[75,10,41,67],[75,11,41,68],[76,8,42,6],[76,13,42,11],[76,16,42,14],[77,10,43,8],[77,17,43,15],[78,12,43,17,"code"],[78,16,43,21],[78,18,43,23,"SPAN_STATUS_ERROR"],[78,35,43,40],[79,12,43,42,"message"],[79,19,43,49],[79,21,43,51],[80,10,43,65],[80,11,43,66],[81,8,44,6],[81,13,44,11],[81,16,44,14],[82,10,45,8],[82,17,45,15],[83,12,45,17,"code"],[83,16,45,21],[83,18,45,23,"SPAN_STATUS_ERROR"],[83,35,45,40],[84,12,45,42,"message"],[84,19,45,49],[84,21,45,51],[85,10,45,71],[85,11,45,72],[86,8,46,6],[87,10,47,8],[87,17,47,15],[88,12,47,17,"code"],[88,16,47,21],[88,18,47,23,"SPAN_STATUS_ERROR"],[88,35,47,40],[89,12,47,42,"message"],[89,19,47,49],[89,21,47,51],[90,10,47,68],[90,11,47,69],[91,6,48,4],[92,4,49,2],[93,4,51,2],[93,11,51,9],[94,6,51,11,"code"],[94,10,51,15],[94,12,51,17,"SPAN_STATUS_ERROR"],[94,29,51,34],[95,6,51,36,"message"],[95,13,51,43],[95,15,51,45],[96,4,51,61],[96,5,51,62],[97,2,52,0],[99,2,54,0],[100,0,55,0],[101,0,56,0],[102,0,57,0],[103,2,58,0],[103,11,58,9,"setHttpStatus"],[103,24,58,22,"setHttpStatus"],[103,25,58,23,"span"],[103,29,58,27],[103,31,58,29,"httpStatus"],[103,41,58,39],[103,43,58,41],[104,4,59,2,"span"],[104,8,59,6],[104,9,59,7,"setAttribute"],[104,21,59,19],[104,22,59,20],[104,49,59,47],[104,51,59,49,"httpStatus"],[104,61,59,59],[104,62,59,60],[105,4,61,2],[105,10,61,8,"spanStatus"],[105,20,61,18],[105,23,61,21,"getSpanStatusFromHttpCode"],[105,48,61,46],[105,49,61,47,"httpStatus"],[105,59,61,57],[105,60,61,58],[106,4,62,2],[106,8,62,6,"spanStatus"],[106,18,62,16],[106,19,62,17,"message"],[106,26,62,24],[106,31,62,29],[106,46,62,44],[106,48,62,46],[107,6,63,4,"span"],[107,10,63,8],[107,11,63,9,"setStatus"],[107,20,63,18],[107,21,63,19,"spanStatus"],[107,31,63,29],[107,32,63,30],[108,4,64,2],[109,2,65,0],[110,0,65,1],[110,3]],"functionMap":{"names":["<global>","getSpanStatusFromHttpCode","setHttpStatus"],"mappings":"AAA;ACW;CDwC;AEM;CFO"}},"type":"js/module"}]}