{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = exports.WebSocketFactory = void 0;\n  class WebSocketFactory {\n    static detectEnvironment() {\n      var _a;\n      if (typeof WebSocket !== 'undefined') {\n        return {\n          type: 'native',\n          constructor: WebSocket\n        };\n      }\n      if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\n        return {\n          type: 'native',\n          constructor: globalThis.WebSocket\n        };\n      }\n      if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\n        return {\n          type: 'native',\n          constructor: global.WebSocket\n        };\n      }\n      if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocketPair !== 'undefined' && typeof globalThis.WebSocket === 'undefined') {\n        return {\n          type: 'cloudflare',\n          error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\n          workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.'\n        };\n      }\n      if (typeof globalThis !== 'undefined' && globalThis.EdgeRuntime || typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.includes('Vercel-Edge'))) {\n        return {\n          type: 'unsupported',\n          error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\n          workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.'\n        };\n      }\n      if (typeof process !== 'undefined' && process.versions && process.versions.node) {\n        const nodeVersion = parseInt(process.versions.node.split('.')[0]);\n        // Node.js 22+ should have native WebSocket\n        if (nodeVersion >= 22) {\n          // Check if native WebSocket is available (should be in Node.js 22+)\n          if (typeof globalThis.WebSocket !== 'undefined') {\n            return {\n              type: 'native',\n              constructor: globalThis.WebSocket\n            };\n          }\n          // If not available, user needs to provide it\n          return {\n            type: 'unsupported',\n            error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\n            workaround: 'Provide a WebSocket implementation via the transport option.'\n          };\n        }\n        // Node.js < 22 doesn't have native WebSocket\n        return {\n          type: 'unsupported',\n          error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\n          workaround: 'For Node.js < 22, install \"ws\" package and provide it via the transport option:\\n' + 'import ws from \"ws\"\\n' + 'new RealtimeClient(url, { transport: ws })'\n        };\n      }\n      return {\n        type: 'unsupported',\n        error: 'Unknown JavaScript runtime without WebSocket support.',\n        workaround: \"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\"\n      };\n    }\n    static getWebSocketConstructor() {\n      const env = this.detectEnvironment();\n      if (env.constructor) {\n        return env.constructor;\n      }\n      let errorMessage = env.error || 'WebSocket not supported in this environment.';\n      if (env.workaround) {\n        errorMessage += `\\n\\nSuggested solution: ${env.workaround}`;\n      }\n      throw new Error(errorMessage);\n    }\n    static createWebSocket(url, protocols) {\n      const WS = this.getWebSocketConstructor();\n      return new WS(url, protocols);\n    }\n    static isWebSocketSupported() {\n      try {\n        const env = this.detectEnvironment();\n        return env.type === 'native' || env.type === 'ws';\n      } catch (_a) {\n        return false;\n      }\n    }\n  }\n  exports.WebSocketFactory = WebSocketFactory;\n  var _default = exports.default = WebSocketFactory;\n});","lineCount":98,"map":[[6,2,1,7],[6,8,1,13,"WebSocketFactory"],[6,24,1,29],[6,25,1,30],[7,4,2,4],[7,11,2,11,"detectEnvironment"],[7,28,2,28,"detectEnvironment"],[7,29,2,28],[7,31,2,31],[8,6,3,8],[8,10,3,12,"_a"],[8,12,3,14],[9,6,4,8],[9,10,4,12],[9,17,4,19,"WebSocket"],[9,26,4,28],[9,31,4,33],[9,42,4,44],[9,44,4,46],[10,8,5,12],[10,15,5,19],[11,10,5,21,"type"],[11,14,5,25],[11,16,5,27],[11,24,5,35],[12,10,5,37,"constructor"],[12,21,5,48],[12,23,5,50,"WebSocket"],[13,8,5,60],[13,9,5,61],[14,6,6,8],[15,6,7,8],[15,10,7,12],[15,17,7,19,"globalThis"],[15,27,7,29],[15,32,7,34],[15,43,7,45],[15,47,8,12],[15,54,8,19,"globalThis"],[15,64,8,29],[15,65,8,30,"WebSocket"],[15,74,8,39],[15,79,8,44],[15,90,8,55],[15,92,8,57],[16,8,9,12],[16,15,9,19],[17,10,9,21,"type"],[17,14,9,25],[17,16,9,27],[17,24,9,35],[18,10,9,37,"constructor"],[18,21,9,48],[18,23,9,50,"globalThis"],[18,33,9,60],[18,34,9,61,"WebSocket"],[19,8,9,71],[19,9,9,72],[20,6,10,8],[21,6,11,8],[21,10,11,12],[21,17,11,19,"global"],[21,23,11,25],[21,28,11,30],[21,39,11,41],[21,43,12,12],[21,50,12,19,"global"],[21,56,12,25],[21,57,12,26,"WebSocket"],[21,66,12,35],[21,71,12,40],[21,82,12,51],[21,84,12,53],[22,8,13,12],[22,15,13,19],[23,10,13,21,"type"],[23,14,13,25],[23,16,13,27],[23,24,13,35],[24,10,13,37,"constructor"],[24,21,13,48],[24,23,13,50,"global"],[24,29,13,56],[24,30,13,57,"WebSocket"],[25,8,13,67],[25,9,13,68],[26,6,14,8],[27,6,15,8],[27,10,15,12],[27,17,15,19,"globalThis"],[27,27,15,29],[27,32,15,34],[27,43,15,45],[27,47,16,12],[27,54,16,19,"globalThis"],[27,64,16,29],[27,65,16,30,"WebSocketPair"],[27,78,16,43],[27,83,16,48],[27,94,16,59],[27,98,17,12],[27,105,17,19,"globalThis"],[27,115,17,29],[27,116,17,30,"WebSocket"],[27,125,17,39],[27,130,17,44],[27,141,17,55],[27,143,17,57],[28,8,18,12],[28,15,18,19],[29,10,19,16,"type"],[29,14,19,20],[29,16,19,22],[29,28,19,34],[30,10,20,16,"error"],[30,15,20,21],[30,17,20,23],[30,106,20,112],[31,10,21,16,"workaround"],[31,20,21,26],[31,22,21,28],[32,8,22,12],[32,9,22,13],[33,6,23,8],[34,6,24,8],[34,10,24,13],[34,17,24,20,"globalThis"],[34,27,24,30],[34,32,24,35],[34,43,24,46],[34,47,24,50,"globalThis"],[34,57,24,60],[34,58,24,61,"EdgeRuntime"],[34,69,24,72],[34,73,25,13],[34,80,25,20,"navigator"],[34,89,25,29],[34,94,25,34],[34,105,25,45],[34,110,26,17],[34,111,26,18,"_a"],[34,113,26,20],[34,116,26,23,"navigator"],[34,125,26,32],[34,126,26,33,"userAgent"],[34,135,26,42],[34,141,26,48],[34,145,26,52],[34,149,26,56,"_a"],[34,151,26,58],[34,156,26,63],[34,161,26,68],[34,162,26,69],[34,165,26,72],[34,170,26,77],[34,171,26,78],[34,174,26,81,"_a"],[34,176,26,83],[34,177,26,84,"includes"],[34,185,26,92],[34,186,26,93],[34,199,26,106],[34,200,26,107],[34,201,26,109],[34,203,26,111],[35,8,27,12],[35,15,27,19],[36,10,28,16,"type"],[36,14,28,20],[36,16,28,22],[36,29,28,35],[37,10,29,16,"error"],[37,15,29,21],[37,17,29,23],[37,116,29,122],[38,10,30,16,"workaround"],[38,20,30,26],[38,22,30,28],[39,8,31,12],[39,9,31,13],[40,6,32,8],[41,6,33,8],[41,10,33,12],[41,17,33,19,"process"],[41,24,33,26],[41,29,33,31],[41,40,33,42],[41,44,34,12,"process"],[41,51,34,19],[41,52,34,20,"versions"],[41,60,34,28],[41,64,35,12,"process"],[41,71,35,19],[41,72,35,20,"versions"],[41,80,35,28],[41,81,35,29,"node"],[41,85,35,33],[41,87,35,35],[42,8,36,12],[42,14,36,18,"nodeVersion"],[42,25,36,29],[42,28,36,32,"parseInt"],[42,36,36,40],[42,37,36,41,"process"],[42,44,36,48],[42,45,36,49,"versions"],[42,53,36,57],[42,54,36,58,"node"],[42,58,36,62],[42,59,36,63,"split"],[42,64,36,68],[42,65,36,69],[42,68,36,72],[42,69,36,73],[42,70,36,74],[42,71,36,75],[42,72,36,76],[42,73,36,77],[43,8,37,12],[44,8,38,12],[44,12,38,16,"nodeVersion"],[44,23,38,27],[44,27,38,31],[44,29,38,33],[44,31,38,35],[45,10,39,16],[46,10,40,16],[46,14,40,20],[46,21,40,27,"globalThis"],[46,31,40,37],[46,32,40,38,"WebSocket"],[46,41,40,47],[46,46,40,52],[46,57,40,63],[46,59,40,65],[47,12,41,20],[47,19,41,27],[48,14,41,29,"type"],[48,18,41,33],[48,20,41,35],[48,28,41,43],[49,14,41,45,"constructor"],[49,25,41,56],[49,27,41,58,"globalThis"],[49,37,41,68],[49,38,41,69,"WebSocket"],[50,12,41,79],[50,13,41,80],[51,10,42,16],[52,10,43,16],[53,10,44,16],[53,17,44,23],[54,12,45,20,"type"],[54,16,45,24],[54,18,45,26],[54,31,45,39],[55,12,46,20,"error"],[55,17,46,25],[55,19,46,27],[55,30,46,38,"nodeVersion"],[55,41,46,49],[55,84,46,92],[56,12,47,20,"workaround"],[56,22,47,30],[56,24,47,32],[57,10,48,16],[57,11,48,17],[58,8,49,12],[59,8,50,12],[60,8,51,12],[60,15,51,19],[61,10,52,16,"type"],[61,14,52,20],[61,16,52,22],[61,29,52,35],[62,10,53,16,"error"],[62,15,53,21],[62,17,53,23],[62,28,53,34,"nodeVersion"],[62,39,53,45],[62,84,53,90],[63,10,54,16,"workaround"],[63,20,54,26],[63,22,54,28],[63,105,54,111],[63,108,55,20],[63,131,55,43],[63,134,56,20],[64,8,57,12],[64,9,57,13],[65,6,58,8],[66,6,59,8],[66,13,59,15],[67,8,60,12,"type"],[67,12,60,16],[67,14,60,18],[67,27,60,31],[68,8,61,12,"error"],[68,13,61,17],[68,15,61,19],[68,70,61,74],[69,8,62,12,"workaround"],[69,18,62,22],[69,20,62,24],[70,6,63,8],[70,7,63,9],[71,4,64,4],[72,4,65,4],[72,11,65,11,"getWebSocketConstructor"],[72,34,65,34,"getWebSocketConstructor"],[72,35,65,34],[72,37,65,37],[73,6,66,8],[73,12,66,14,"env"],[73,15,66,17],[73,18,66,20],[73,22,66,24],[73,23,66,25,"detectEnvironment"],[73,40,66,42],[73,41,66,43],[73,42,66,44],[74,6,67,8],[74,10,67,12,"env"],[74,13,67,15],[74,14,67,16,"constructor"],[74,25,67,27],[74,27,67,29],[75,8,68,12],[75,15,68,19,"env"],[75,18,68,22],[75,19,68,23,"constructor"],[75,30,68,34],[76,6,69,8],[77,6,70,8],[77,10,70,12,"errorMessage"],[77,22,70,24],[77,25,70,27,"env"],[77,28,70,30],[77,29,70,31,"error"],[77,34,70,36],[77,38,70,40],[77,84,70,86],[78,6,71,8],[78,10,71,12,"env"],[78,13,71,15],[78,14,71,16,"workaround"],[78,24,71,26],[78,26,71,28],[79,8,72,12,"errorMessage"],[79,20,72,24],[79,24,72,28],[79,51,72,55,"env"],[79,54,72,58],[79,55,72,59,"workaround"],[79,65,72,69],[79,67,72,71],[80,6,73,8],[81,6,74,8],[81,12,74,14],[81,16,74,18,"Error"],[81,21,74,23],[81,22,74,24,"errorMessage"],[81,34,74,36],[81,35,74,37],[82,4,75,4],[83,4,76,4],[83,11,76,11,"createWebSocket"],[83,26,76,26,"createWebSocket"],[83,27,76,27,"url"],[83,30,76,30],[83,32,76,32,"protocols"],[83,41,76,41],[83,43,76,43],[84,6,77,8],[84,12,77,14,"WS"],[84,14,77,16],[84,17,77,19],[84,21,77,23],[84,22,77,24,"getWebSocketConstructor"],[84,45,77,47],[84,46,77,48],[84,47,77,49],[85,6,78,8],[85,13,78,15],[85,17,78,19,"WS"],[85,19,78,21],[85,20,78,22,"url"],[85,23,78,25],[85,25,78,27,"protocols"],[85,34,78,36],[85,35,78,37],[86,4,79,4],[87,4,80,4],[87,11,80,11,"isWebSocketSupported"],[87,31,80,31,"isWebSocketSupported"],[87,32,80,31],[87,34,80,34],[88,6,81,8],[88,10,81,12],[89,8,82,12],[89,14,82,18,"env"],[89,17,82,21],[89,20,82,24],[89,24,82,28],[89,25,82,29,"detectEnvironment"],[89,42,82,46],[89,43,82,47],[89,44,82,48],[90,8,83,12],[90,15,83,19,"env"],[90,18,83,22],[90,19,83,23,"type"],[90,23,83,27],[90,28,83,32],[90,36,83,40],[90,40,83,44,"env"],[90,43,83,47],[90,44,83,48,"type"],[90,48,83,52],[90,53,83,57],[90,57,83,61],[91,6,84,8],[91,7,84,9],[91,8,85,8],[91,15,85,15,"_a"],[91,17,85,17],[91,19,85,19],[92,8,86,12],[92,15,86,19],[92,20,86,24],[93,6,87,8],[94,4,88,4],[95,2,89,0],[96,2,89,1,"exports"],[96,9,89,1],[96,10,89,1,"WebSocketFactory"],[96,26,89,1],[96,29,89,1,"WebSocketFactory"],[96,45,89,1],[97,2,89,1],[97,6,89,1,"_default"],[97,14,89,1],[97,17,89,1,"exports"],[97,24,89,1],[97,25,89,1,"default"],[97,32,89,1],[97,35,90,15,"WebSocketFactory"],[97,51,90,31],[98,0,90,31],[98,3]],"functionMap":{"names":["<global>","WebSocketFactory","WebSocketFactory.detectEnvironment","WebSocketFactory.getWebSocketConstructor","WebSocketFactory.createWebSocket","WebSocketFactory.isWebSocketSupported"],"mappings":"AAA,OC;ICC;KD8D;IEC;KFU;IGC;KHG;IIC;KJQ;CDC"}},"type":"js/module"}]}