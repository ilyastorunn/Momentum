{"dependencies":[{"name":"@sentry/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"/o+dASQcHF2bB25icdsM0E4TExc=","exportNames":["*"]}},{"name":"../wrapper","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":36,"index":86}}],"key":"3qo6tWpJLamBuMFs5ex6CktRJQ4=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.NativeTransport = exports.DEFAULT_BUFFER_SIZE = void 0;\n  exports.makeNativeTransport = makeNativeTransport;\n  exports.makeNativeTransportFactory = makeNativeTransportFactory;\n  var _core = require(_dependencyMap[0], \"@sentry/core\");\n  var _wrapper = require(_dependencyMap[1], \"../wrapper\");\n  const DEFAULT_BUFFER_SIZE = exports.DEFAULT_BUFFER_SIZE = 30;\n  /** Native Transport class implementation */\n  class NativeTransport {\n    constructor(options = {}) {\n      this._buffer = (0, _core.makePromiseBuffer)(options.bufferSize || DEFAULT_BUFFER_SIZE);\n    }\n    /**\n     * Sends the envelope to the Store endpoint in Sentry.\n     *\n     * @param envelope Envelope that should be sent to Sentry.\n     */\n    send(envelope) {\n      // TODO: We currently can't retrieve the response information from native\n      return this._buffer.add(() => _wrapper.NATIVE.sendEnvelope(envelope)).then(() => ({}));\n    }\n    /**\n     * Wait for all envelopes to be sent or the timeout to expire, whichever comes first.\n     *\n     * @param timeout Maximum time in ms the transport should wait for envelopes to be flushed. Omitting this parameter will\n     *   cause the transport to wait until all events are sent before resolving the promise.\n     * @returns A promise that will resolve with `true` if all events are sent before the timeout, or `false` if there are\n     * still events in the queue when the timeout is reached.\n     */\n    flush(timeout) {\n      return this._buffer.drain(timeout);\n    }\n  }\n  /**\n   * Creates a Native Transport.\n   */\n  exports.NativeTransport = NativeTransport;\n  function makeNativeTransport(options = {}) {\n    return new NativeTransport(options);\n  }\n  /**\n   * Creates a Native Transport factory if the native transport is available.\n   */\n  function makeNativeTransportFactory({\n    enableNative\n  }) {\n    if (enableNative && _wrapper.NATIVE.isNativeAvailable()) {\n      return makeNativeTransport;\n    }\n    return null;\n  }\n});","lineCount":55,"map":[[8,2,1,0],[8,6,1,0,"_core"],[8,11,1,0],[8,14,1,0,"require"],[8,21,1,0],[8,22,1,0,"_dependencyMap"],[8,36,1,0],[9,2,2,0],[9,6,2,0,"_wrapper"],[9,14,2,0],[9,17,2,0,"require"],[9,24,2,0],[9,25,2,0,"_dependencyMap"],[9,39,2,0],[10,2,3,7],[10,8,3,13,"DEFAULT_BUFFER_SIZE"],[10,27,3,32],[10,30,3,32,"exports"],[10,37,3,32],[10,38,3,32,"DEFAULT_BUFFER_SIZE"],[10,57,3,32],[10,60,3,35],[10,62,3,37],[11,2,4,0],[12,2,5,7],[12,8,5,13,"NativeTransport"],[12,23,5,28],[12,24,5,29],[13,4,6,4,"constructor"],[13,15,6,15,"constructor"],[13,16,6,16,"options"],[13,23,6,23],[13,26,6,26],[13,27,6,27],[13,28,6,28],[13,30,6,30],[14,6,7,8],[14,10,7,12],[14,11,7,13,"_buffer"],[14,18,7,20],[14,21,7,23],[14,25,7,23,"makePromiseBuffer"],[14,48,7,40],[14,50,7,41,"options"],[14,57,7,48],[14,58,7,49,"bufferSize"],[14,68,7,59],[14,72,7,63,"DEFAULT_BUFFER_SIZE"],[14,91,7,82],[14,92,7,83],[15,4,8,4],[16,4,9,4],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,4,14,4,"send"],[21,8,14,8,"send"],[21,9,14,9,"envelope"],[21,17,14,17],[21,19,14,19],[22,6,15,8],[23,6,16,8],[23,13,16,15],[23,17,16,19],[23,18,16,20,"_buffer"],[23,25,16,27],[23,26,16,28,"add"],[23,29,16,31],[23,30,16,32],[23,36,16,38,"NATIVE"],[23,51,16,44],[23,52,16,45,"sendEnvelope"],[23,64,16,57],[23,65,16,58,"envelope"],[23,73,16,66],[23,74,16,67],[23,75,16,68],[23,76,16,69,"then"],[23,80,16,73],[23,81,16,74],[23,88,16,81],[23,89,16,82],[23,90,16,83],[23,91,16,84],[23,92,16,85],[24,4,17,4],[25,4,18,4],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,4,26,4,"flush"],[33,9,26,9,"flush"],[33,10,26,10,"timeout"],[33,17,26,17],[33,19,26,19],[34,6,27,8],[34,13,27,15],[34,17,27,19],[34,18,27,20,"_buffer"],[34,25,27,27],[34,26,27,28,"drain"],[34,31,27,33],[34,32,27,34,"timeout"],[34,39,27,41],[34,40,27,42],[35,4,28,4],[36,2,29,0],[37,2,30,0],[38,0,31,0],[39,0,32,0],[40,2,30,0,"exports"],[40,9,30,0],[40,10,30,0,"NativeTransport"],[40,25,30,0],[40,28,30,0,"NativeTransport"],[40,43,30,0],[41,2,33,7],[41,11,33,16,"makeNativeTransport"],[41,30,33,35,"makeNativeTransport"],[41,31,33,36,"options"],[41,38,33,43],[41,41,33,46],[41,42,33,47],[41,43,33,48],[41,45,33,50],[42,4,34,4],[42,11,34,11],[42,15,34,15,"NativeTransport"],[42,30,34,30],[42,31,34,31,"options"],[42,38,34,38],[42,39,34,39],[43,2,35,0],[44,2,36,0],[45,0,37,0],[46,0,38,0],[47,2,39,7],[47,11,39,16,"makeNativeTransportFactory"],[47,37,39,42,"makeNativeTransportFactory"],[47,38,39,43],[48,4,39,45,"enableNative"],[49,2,39,59],[49,3,39,60],[49,5,39,62],[50,4,40,4],[50,8,40,8,"enableNative"],[50,20,40,20],[50,24,40,24,"NATIVE"],[50,39,40,30],[50,40,40,31,"isNativeAvailable"],[50,57,40,48],[50,58,40,49],[50,59,40,50],[50,61,40,52],[51,6,41,8],[51,13,41,15,"makeNativeTransport"],[51,32,41,34],[52,4,42,4],[53,4,43,4],[53,11,43,11],[53,15,43,15],[54,2,44,0],[55,0,44,1],[55,3]],"functionMap":{"names":["<global>","NativeTransport","NativeTransport#constructor","NativeTransport#send","_buffer.add$argument_0","_buffer.add.then$argument_0","NativeTransport#flush","makeNativeTransport","makeNativeTransportFactory"],"mappings":"AAA;OCI;ICC;KDE;IEM;gCCE,mCD,OE,UF;KFC;IKS;KLE;CDC;OOI;CPE;OQI;CRK"}},"type":"js/module"}]}