{"dependencies":[{"name":"./debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"nOZ2HunKnzL39LFdYoJbtaXPZ5g=","exportNames":["*"]}},{"name":"./utils-hoist/is.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":49,"index":97}}],"key":"yjiG2n7bd9NbF7ogEaNNARkwswM=","exportNames":["*"]}},{"name":"./utils-hoist/logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":98},"end":{"line":3,"column":49,"index":147}}],"key":"stoPaR3Pn8Ep3TScuCh6EHiT7Fo=","exportNames":["*"]}},{"name":"./utils-hoist/syncpromise.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":148},"end":{"line":4,"column":59,"index":207}}],"key":"gwGYC9zGsq15kFPabL3tTNAvIUc=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.notifyEventProcessors = notifyEventProcessors;\n  var _debugBuild = require(_dependencyMap[0], \"./debug-build.js\");\n  var _is = require(_dependencyMap[1], \"./utils-hoist/is.js\");\n  var _logger = require(_dependencyMap[2], \"./utils-hoist/logger.js\");\n  var _syncpromise = require(_dependencyMap[3], \"./utils-hoist/syncpromise.js\");\n  /**\n   * Process an array of event processors, returning the processed event (or `null` if the event was dropped).\n   */\n  function notifyEventProcessors(processors, event, hint, index = 0) {\n    return new _syncpromise.SyncPromise((resolve, reject) => {\n      const processor = processors[index];\n      if (event === null || typeof processor !== 'function') {\n        resolve(event);\n      } else {\n        const result = processor({\n          ...event\n        }, hint);\n        _debugBuild.DEBUG_BUILD && processor.id && result === null && _logger.logger.log(`Event processor \"${processor.id}\" dropped event`);\n        if ((0, _is.isThenable)(result)) {\n          void result.then(final => notifyEventProcessors(processors, final, hint, index + 1).then(resolve)).then(null, reject);\n        } else {\n          void notifyEventProcessors(processors, result, hint, index + 1).then(resolve).then(null, reject);\n        }\n      }\n    });\n  }\n});","lineCount":31,"map":[[6,2,1,0],[6,6,1,0,"_debugBuild"],[6,17,1,0],[6,20,1,0,"require"],[6,27,1,0],[6,28,1,0,"_dependencyMap"],[6,42,1,0],[7,2,2,0],[7,6,2,0,"_is"],[7,9,2,0],[7,12,2,0,"require"],[7,19,2,0],[7,20,2,0,"_dependencyMap"],[7,34,2,0],[8,2,3,0],[8,6,3,0,"_logger"],[8,13,3,0],[8,16,3,0,"require"],[8,23,3,0],[8,24,3,0,"_dependencyMap"],[8,38,3,0],[9,2,4,0],[9,6,4,0,"_syncpromise"],[9,18,4,0],[9,21,4,0,"require"],[9,28,4,0],[9,29,4,0,"_dependencyMap"],[9,43,4,0],[10,2,6,0],[11,0,7,0],[12,0,8,0],[13,2,9,0],[13,11,9,9,"notifyEventProcessors"],[13,32,9,30,"notifyEventProcessors"],[13,33,10,2,"processors"],[13,43,10,12],[13,45,11,2,"event"],[13,50,11,7],[13,52,12,2,"hint"],[13,56,12,6],[13,58,13,2,"index"],[13,63,13,7],[13,66,13,10],[13,67,13,11],[13,69,14,2],[14,4,15,2],[14,11,15,9],[14,15,15,13,"SyncPromise"],[14,39,15,24],[14,40,15,25],[14,41,15,26,"resolve"],[14,48,15,33],[14,50,15,35,"reject"],[14,56,15,41],[14,61,15,46],[15,6,16,4],[15,12,16,10,"processor"],[15,21,16,19],[15,24,16,22,"processors"],[15,34,16,32],[15,35,16,33,"index"],[15,40,16,38],[15,41,16,39],[16,6,17,4],[16,10,17,8,"event"],[16,15,17,13],[16,20,17,18],[16,24,17,22],[16,28,17,26],[16,35,17,33,"processor"],[16,44,17,42],[16,49,17,47],[16,59,17,57],[16,61,17,59],[17,8,18,6,"resolve"],[17,15,18,13],[17,16,18,14,"event"],[17,21,18,19],[17,22,18,20],[18,6,19,4],[18,7,19,5],[18,13,19,11],[19,8,20,6],[19,14,20,12,"result"],[19,20,20,18],[19,23,20,21,"processor"],[19,32,20,30],[19,33,20,31],[20,10,20,33],[20,13,20,36,"event"],[21,8,20,42],[21,9,20,43],[21,11,20,45,"hint"],[21,15,20,49],[21,16,20,50],[22,8,22,6,"DEBUG_BUILD"],[22,31,22,17],[22,35,22,21,"processor"],[22,44,22,30],[22,45,22,31,"id"],[22,47,22,33],[22,51,22,37,"result"],[22,57,22,43],[22,62,22,48],[22,66,22,52],[22,70,22,56,"logger"],[22,84,22,62],[22,85,22,63,"log"],[22,88,22,66],[22,89,22,67],[22,109,22,87,"processor"],[22,118,22,96],[22,119,22,97,"id"],[22,121,22,99],[22,138,22,116],[22,139,22,117],[23,8,24,6],[23,12,24,10],[23,16,24,10,"isThenable"],[23,30,24,20],[23,32,24,21,"result"],[23,38,24,27],[23,39,24,28],[23,41,24,30],[24,10,25,8],[24,15,25,13,"result"],[24,21,25,19],[24,22,26,11,"then"],[24,26,26,15],[24,27,26,16,"final"],[24,32,26,21],[24,36,26,25,"notifyEventProcessors"],[24,57,26,46],[24,58,26,47,"processors"],[24,68,26,57],[24,70,26,59,"final"],[24,75,26,64],[24,77,26,66,"hint"],[24,81,26,70],[24,83,26,72,"index"],[24,88,26,77],[24,91,26,80],[24,92,26,81],[24,93,26,82],[24,94,26,83,"then"],[24,98,26,87],[24,99,26,88,"resolve"],[24,106,26,95],[24,107,26,96],[24,108,26,97],[24,109,27,11,"then"],[24,113,27,15],[24,114,27,16],[24,118,27,20],[24,120,27,22,"reject"],[24,126,27,28],[24,127,27,29],[25,8,28,6],[25,9,28,7],[25,15,28,13],[26,10,29,8],[26,15,29,13,"notifyEventProcessors"],[26,36,29,34],[26,37,29,35,"processors"],[26,47,29,45],[26,49,29,47,"result"],[26,55,29,53],[26,57,29,55,"hint"],[26,61,29,59],[26,63,29,61,"index"],[26,68,29,66],[26,71,29,69],[26,72,29,70],[26,73,29,71],[26,74,30,11,"then"],[26,78,30,15],[26,79,30,16,"resolve"],[26,86,30,23],[26,87,30,24],[26,88,31,11,"then"],[26,92,31,15],[26,93,31,16],[26,97,31,20],[26,99,31,22,"reject"],[26,105,31,28],[26,106,31,29],[27,8,32,6],[28,6,33,4],[29,4,34,2],[29,5,34,3],[29,6,34,4],[30,2,35,0],[31,0,35,1],[31,3]],"functionMap":{"names":["<global>","notifyEventProcessors","SyncPromise$argument_0","result.then$argument_0"],"mappings":"AAA;ACQ;yBCM;gBCW,gFD;GDQ;CDC"}},"type":"js/module"}]}