{"dependencies":[{"name":"../worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"oFVkO1TNcrWeLXFY3p/6B7+diEg=","exportNames":["*"]}},{"name":"./handlers.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":77,"index":123}}],"key":"KucQFengibIO2FPJs66kwgxrI08=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.addGlobalUnhandledRejectionInstrumentationHandler = addGlobalUnhandledRejectionInstrumentationHandler;\n  var _worldwide = require(_dependencyMap[0], \"../worldwide.js\");\n  var _handlers = require(_dependencyMap[1], \"./handlers.js\");\n  let _oldOnUnhandledRejectionHandler = null;\n\n  /**\n   * Add an instrumentation handler for when an unhandled promise rejection is captured.\n   *\n   * Use at your own risk, this might break without changelog notice, only used internally.\n   * @hidden\n   */\n  function addGlobalUnhandledRejectionInstrumentationHandler(handler) {\n    const type = 'unhandledrejection';\n    (0, _handlers.addHandler)(type, handler);\n    (0, _handlers.maybeInstrument)(type, instrumentUnhandledRejection);\n  }\n  function instrumentUnhandledRejection() {\n    _oldOnUnhandledRejectionHandler = _worldwide.GLOBAL_OBJ.onunhandledrejection;\n\n    // Note: The reason we are doing window.onunhandledrejection instead of window.addEventListener('unhandledrejection')\n    // is that we are using this handler in the Loader Script, to handle buffered rejections consistently\n    _worldwide.GLOBAL_OBJ.onunhandledrejection = function (e) {\n      const handlerData = e;\n      (0, _handlers.triggerHandlers)('unhandledrejection', handlerData);\n      if (_oldOnUnhandledRejectionHandler) {\n        // eslint-disable-next-line prefer-rest-params\n        return _oldOnUnhandledRejectionHandler.apply(this, arguments);\n      }\n      return true;\n    };\n    _worldwide.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__ = true;\n  }\n});","lineCount":37,"map":[[6,2,1,0],[6,6,1,0,"_worldwide"],[6,16,1,0],[6,19,1,0,"require"],[6,26,1,0],[6,27,1,0,"_dependencyMap"],[6,41,1,0],[7,2,2,0],[7,6,2,0,"_handlers"],[7,15,2,0],[7,18,2,0,"require"],[7,25,2,0],[7,26,2,0,"_dependencyMap"],[7,40,2,0],[8,2,4,0],[8,6,4,4,"_oldOnUnhandledRejectionHandler"],[8,37,4,35],[8,40,4,38],[8,44,4,42],[10,2,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,2,12,0],[16,11,12,9,"addGlobalUnhandledRejectionInstrumentationHandler"],[16,60,12,58,"addGlobalUnhandledRejectionInstrumentationHandler"],[16,61,13,2,"handler"],[16,68,13,9],[16,70,14,2],[17,4,15,2],[17,10,15,8,"type"],[17,14,15,12],[17,17,15,15],[17,37,15,35],[18,4,16,2],[18,8,16,2,"addHandler"],[18,28,16,12],[18,30,16,13,"type"],[18,34,16,17],[18,36,16,19,"handler"],[18,43,16,26],[18,44,16,27],[19,4,17,2],[19,8,17,2,"maybeInstrument"],[19,33,17,17],[19,35,17,18,"type"],[19,39,17,22],[19,41,17,24,"instrumentUnhandledRejection"],[19,69,17,52],[19,70,17,53],[20,2,18,0],[21,2,20,0],[21,11,20,9,"instrumentUnhandledRejection"],[21,39,20,37,"instrumentUnhandledRejection"],[21,40,20,37],[21,42,20,40],[22,4,21,2,"_oldOnUnhandledRejectionHandler"],[22,35,21,33],[22,38,21,36,"GLOBAL_OBJ"],[22,59,21,46],[22,60,21,47,"onunhandledrejection"],[22,80,21,67],[24,4,23,2],[25,4,24,2],[26,4,25,2,"GLOBAL_OBJ"],[26,25,25,12],[26,26,25,13,"onunhandledrejection"],[26,46,25,33],[26,49,25,36],[26,59,25,46,"e"],[26,60,25,47],[26,62,25,49],[27,6,26,4],[27,12,26,10,"handlerData"],[27,23,26,21],[27,26,26,24,"e"],[27,27,26,25],[28,6,27,4],[28,10,27,4,"triggerHandlers"],[28,35,27,19],[28,37,27,20],[28,57,27,40],[28,59,27,42,"handlerData"],[28,70,27,53],[28,71,27,54],[29,6,29,4],[29,10,29,8,"_oldOnUnhandledRejectionHandler"],[29,41,29,39],[29,43,29,41],[30,8,30,6],[31,8,31,6],[31,15,31,13,"_oldOnUnhandledRejectionHandler"],[31,46,31,44],[31,47,31,45,"apply"],[31,52,31,50],[31,53,31,51],[31,57,31,55],[31,59,31,57,"arguments"],[31,68,31,66],[31,69,31,67],[32,6,32,4],[33,6,34,4],[33,13,34,11],[33,17,34,15],[34,4,35,2],[34,5,35,3],[35,4,37,2,"GLOBAL_OBJ"],[35,25,37,12],[35,26,37,13,"onunhandledrejection"],[35,46,37,33],[35,47,37,34,"__SENTRY_INSTRUMENTED__"],[35,70,37,57],[35,73,37,60],[35,77,37,64],[36,2,38,0],[37,0,38,1],[37,3]],"functionMap":{"names":["<global>","addGlobalUnhandledRejectionInstrumentationHandler","instrumentUnhandledRejection","GLOBAL_OBJ.onunhandledrejection"],"mappings":"AAA;ACW;CDM;AEE;oCCK;GDU;CFG"}},"type":"js/module"}]}