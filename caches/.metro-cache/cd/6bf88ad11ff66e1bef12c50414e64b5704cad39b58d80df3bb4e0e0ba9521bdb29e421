{"dependencies":[{"name":"./lib/bindReporter.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"yZXTUsWh1M46DyxIbZ88NUHRymg=","exportNames":["*"]}},{"name":"./lib/getVisibilityWatcher.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":69,"index":123}}],"key":"nHtaM9v//YlxGAv+O3W06C++qp8=","exportNames":["*"]}},{"name":"./lib/initMetric.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":49,"index":173}}],"key":"3h8m+kvAV2o3xN93IHHrmBqzs4s=","exportNames":["*"]}},{"name":"./lib/observe.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":174},"end":{"line":4,"column":43,"index":217}}],"key":"Cz2RoRvLyGQyofIDJmcgFo6dicM=","exportNames":["*"]}},{"name":"./lib/onHidden.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":218},"end":{"line":5,"column":45,"index":263}}],"key":"Me8dIXVCoQX50hAKyNiBvASIs+8=","exportNames":["*"]}},{"name":"./lib/runOnce.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":264},"end":{"line":6,"column":43,"index":307}}],"key":"bwPHkAH8Ixo/Lbt+Aw9KJe855Jk=","exportNames":["*"]}},{"name":"./lib/whenActivated.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":308},"end":{"line":7,"column":55,"index":363}}],"key":"ZUHRzyG92JJbjB1/O2ptt6DviqY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.onFID = exports.FIDThresholds = void 0;\n  var _bindReporter = require(_dependencyMap[0], \"./lib/bindReporter.js\");\n  var _getVisibilityWatcher = require(_dependencyMap[1], \"./lib/getVisibilityWatcher.js\");\n  var _initMetric = require(_dependencyMap[2], \"./lib/initMetric.js\");\n  var _observe = require(_dependencyMap[3], \"./lib/observe.js\");\n  var _onHidden = require(_dependencyMap[4], \"./lib/onHidden.js\");\n  var _runOnce = require(_dependencyMap[5], \"./lib/runOnce.js\");\n  var _whenActivated = require(_dependencyMap[6], \"./lib/whenActivated.js\");\n  /*\n   * Copyright 2020 Google LLC\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     https://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /** Thresholds for FID. See https://web.dev/articles/fid#what_is_a_good_fid_score */\n  const FIDThresholds = exports.FIDThresholds = [100, 300];\n\n  /**\n   * Calculates the [FID](https://web.dev/articles/fid) value for the current page and\n   * calls the `callback` function once the value is ready, along with the\n   * relevant `first-input` performance entry used to determine the value. The\n   * reported value is a `DOMHighResTimeStamp`.\n   *\n   * _**Important:** since FID is only reported after the user interacts with the\n   * page, it's possible that it will not be reported for some page loads._\n   */\n  const onFID = (onReport, opts = {}) => {\n    (0, _whenActivated.whenActivated)(() => {\n      const visibilityWatcher = (0, _getVisibilityWatcher.getVisibilityWatcher)();\n      const metric = (0, _initMetric.initMetric)('FID');\n      // eslint-disable-next-line prefer-const\n      let report;\n      const handleEntry = entry => {\n        // Only report if the page wasn't hidden prior to the first input.\n        if (entry.startTime < visibilityWatcher.firstHiddenTime) {\n          metric.value = entry.processingStart - entry.startTime;\n          metric.entries.push(entry);\n          report(true);\n        }\n      };\n      const handleEntries = entries => {\n        entries.forEach(handleEntry);\n      };\n      const po = (0, _observe.observe)('first-input', handleEntries);\n      report = (0, _bindReporter.bindReporter)(onReport, metric, FIDThresholds, opts.reportAllChanges);\n      if (po) {\n        (0, _onHidden.onHidden)((0, _runOnce.runOnce)(() => {\n          handleEntries(po.takeRecords());\n          po.disconnect();\n        }));\n      }\n    });\n  };\n  exports.onFID = onFID;\n});","lineCount":69,"map":[[6,2,1,0],[6,6,1,0,"_bindReporter"],[6,19,1,0],[6,22,1,0,"require"],[6,29,1,0],[6,30,1,0,"_dependencyMap"],[6,44,1,0],[7,2,2,0],[7,6,2,0,"_getVisibilityWatcher"],[7,27,2,0],[7,30,2,0,"require"],[7,37,2,0],[7,38,2,0,"_dependencyMap"],[7,52,2,0],[8,2,3,0],[8,6,3,0,"_initMetric"],[8,17,3,0],[8,20,3,0,"require"],[8,27,3,0],[8,28,3,0,"_dependencyMap"],[8,42,3,0],[9,2,4,0],[9,6,4,0,"_observe"],[9,14,4,0],[9,17,4,0,"require"],[9,24,4,0],[9,25,4,0,"_dependencyMap"],[9,39,4,0],[10,2,5,0],[10,6,5,0,"_onHidden"],[10,15,5,0],[10,18,5,0,"require"],[10,25,5,0],[10,26,5,0,"_dependencyMap"],[10,40,5,0],[11,2,6,0],[11,6,6,0,"_runOnce"],[11,14,6,0],[11,17,6,0,"require"],[11,24,6,0],[11,25,6,0,"_dependencyMap"],[11,39,6,0],[12,2,7,0],[12,6,7,0,"_whenActivated"],[12,20,7,0],[12,23,7,0,"require"],[12,30,7,0],[12,31,7,0,"_dependencyMap"],[12,45,7,0],[13,2,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,0,19,0],[24,0,20,0],[25,0,21,0],[26,0,22,0],[27,0,23,0],[29,2,26,0],[30,2,27,0],[30,8,27,6,"FIDThresholds"],[30,21,27,19],[30,24,27,19,"exports"],[30,31,27,19],[30,32,27,19,"FIDThresholds"],[30,45,27,19],[30,48,27,22],[30,49,27,23],[30,52,27,26],[30,54,27,28],[30,57,27,31],[30,58,27,32],[32,2,29,0],[33,0,30,0],[34,0,31,0],[35,0,32,0],[36,0,33,0],[37,0,34,0],[38,0,35,0],[39,0,36,0],[40,0,37,0],[41,2,38,0],[41,8,38,6,"onFID"],[41,13,38,11],[41,16,38,14,"onFID"],[41,17,38,15,"onReport"],[41,25,38,23],[41,27,38,25,"opts"],[41,31,38,29],[41,34,38,32],[41,35,38,33],[41,36,38,34],[41,41,38,39],[42,4,39,2],[42,8,39,2,"whenActivated"],[42,36,39,15],[42,38,39,16],[42,44,39,22],[43,6,40,4],[43,12,40,10,"visibilityWatcher"],[43,29,40,27],[43,32,40,30],[43,36,40,30,"getVisibilityWatcher"],[43,78,40,50],[43,80,40,51],[43,81,40,52],[44,6,41,4],[44,12,41,10,"metric"],[44,18,41,16],[44,21,41,19],[44,25,41,19,"initMetric"],[44,47,41,29],[44,49,41,30],[44,54,41,35],[44,55,41,36],[45,6,42,4],[46,6,43,4],[46,10,43,8,"report"],[46,16,43,14],[47,6,45,4],[47,12,45,10,"handleEntry"],[47,23,45,21],[47,26,45,25,"entry"],[47,31,45,30],[47,35,45,35],[48,8,46,6],[49,8,47,6],[49,12,47,10,"entry"],[49,17,47,15],[49,18,47,16,"startTime"],[49,27,47,25],[49,30,47,28,"visibilityWatcher"],[49,47,47,45],[49,48,47,46,"firstHiddenTime"],[49,63,47,61],[49,65,47,63],[50,10,48,8,"metric"],[50,16,48,14],[50,17,48,15,"value"],[50,22,48,20],[50,25,48,23,"entry"],[50,30,48,28],[50,31,48,29,"processingStart"],[50,46,48,44],[50,49,48,47,"entry"],[50,54,48,52],[50,55,48,53,"startTime"],[50,64,48,62],[51,10,49,8,"metric"],[51,16,49,14],[51,17,49,15,"entries"],[51,24,49,22],[51,25,49,23,"push"],[51,29,49,27],[51,30,49,28,"entry"],[51,35,49,33],[51,36,49,34],[52,10,50,8,"report"],[52,16,50,14],[52,17,50,15],[52,21,50,19],[52,22,50,20],[53,8,51,6],[54,6,52,4],[54,7,52,5],[55,6,54,4],[55,12,54,10,"handleEntries"],[55,25,54,23],[55,28,54,27,"entries"],[55,35,54,34],[55,39,54,39],[56,8,55,7,"entries"],[56,15,55,14],[56,16,55,17,"forEach"],[56,23,55,24],[56,24,55,25,"handleEntry"],[56,35,55,36],[56,36,55,37],[57,6,56,4],[57,7,56,5],[58,6,58,4],[58,12,58,10,"po"],[58,14,58,12],[58,17,58,15],[58,21,58,15,"observe"],[58,37,58,22],[58,39,58,23],[58,52,58,36],[58,54,58,38,"handleEntries"],[58,67,58,51],[58,68,58,52],[59,6,60,4,"report"],[59,12,60,10],[59,15,60,13],[59,19,60,13,"bindReporter"],[59,45,60,25],[59,47,60,26,"onReport"],[59,55,60,34],[59,57,60,36,"metric"],[59,63,60,42],[59,65,60,44,"FIDThresholds"],[59,78,60,57],[59,80,60,59,"opts"],[59,84,60,63],[59,85,60,64,"reportAllChanges"],[59,101,60,80],[59,102,60,81],[60,6,62,4],[60,10,62,8,"po"],[60,12,62,10],[60,14,62,12],[61,8,63,6],[61,12,63,6,"onHidden"],[61,30,63,14],[61,32,64,8],[61,36,64,8,"runOnce"],[61,52,64,15],[61,54,64,16],[61,60,64,22],[62,10,65,10,"handleEntries"],[62,23,65,23],[62,24,65,24,"po"],[62,26,65,26],[62,27,65,27,"takeRecords"],[62,38,65,38],[62,39,65,39],[62,40,65,41],[62,41,65,42],[63,10,66,10,"po"],[63,12,66,12],[63,13,66,13,"disconnect"],[63,23,66,23],[63,24,66,24],[63,25,66,25],[64,8,67,8],[64,9,67,9],[64,10,68,6],[64,11,68,7],[65,6,69,4],[66,4,70,2],[66,5,70,3],[66,6,70,4],[67,2,71,0],[67,3,71,1],[68,2,71,2,"exports"],[68,9,71,2],[68,10,71,2,"onFID"],[68,15,71,2],[68,18,71,2,"onFID"],[68,23,71,2],[69,0,71,2],[69,3]],"functionMap":{"names":["<global>","onFID","whenActivated$argument_0","handleEntry","handleEntries","runOnce$argument_0"],"mappings":"AAA;cCqC;gBCC;wBCM;KDO;0BEE;KFE;gBGQ;SHG;GDG;CDC"}},"type":"js/module"}]}