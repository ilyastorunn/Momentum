{"dependencies":[{"name":"./debug-build.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":47,"index":47}}],"key":"nOZ2HunKnzL39LFdYoJbtaXPZ5g=","exportNames":["*"]}},{"name":"./logger.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":37,"index":85}}],"key":"iVYhB1kviQI8ndYBeJYcuS1MqTQ=","exportNames":["*"]}},{"name":"./worldwide.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":86},"end":{"line":3,"column":44,"index":130}}],"key":"LZlrQCVO4H3zUFIdbw1eEy4GKGE=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isNativeFunction = isNativeFunction;\n  exports.supportsDOMError = supportsDOMError;\n  exports.supportsDOMException = supportsDOMException;\n  exports.supportsErrorEvent = supportsErrorEvent;\n  exports.supportsFetch = supportsFetch;\n  exports.supportsNativeFetch = supportsNativeFetch;\n  exports.supportsReferrerPolicy = supportsReferrerPolicy;\n  exports.supportsReportingObserver = supportsReportingObserver;\n  var _debugBuild = require(_dependencyMap[0], \"./debug-build.js\");\n  var _logger = require(_dependencyMap[1], \"./logger.js\");\n  var _worldwide = require(_dependencyMap[2], \"./worldwide.js\");\n  const WINDOW = _worldwide.GLOBAL_OBJ;\n\n  /**\n   * Tells whether current environment supports ErrorEvent objects\n   * {@link supportsErrorEvent}.\n   *\n   * @returns Answer to the given question.\n   */\n  function supportsErrorEvent() {\n    try {\n      new ErrorEvent('');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Tells whether current environment supports DOMError objects\n   * {@link supportsDOMError}.\n   *\n   * @returns Answer to the given question.\n   */\n  function supportsDOMError() {\n    try {\n      // Chrome: VM89:1 Uncaught TypeError: Failed to construct 'DOMError':\n      // 1 argument required, but only 0 present.\n      // @ts-expect-error It really needs 1 argument, not 0.\n      new DOMError('');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Tells whether current environment supports DOMException objects\n   * {@link supportsDOMException}.\n   *\n   * @returns Answer to the given question.\n   */\n  function supportsDOMException() {\n    try {\n      new DOMException('');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Tells whether current environment supports Fetch API\n   * {@link supportsFetch}.\n   *\n   * @returns Answer to the given question.\n   */\n  function supportsFetch() {\n    if (!('fetch' in WINDOW)) {\n      return false;\n    }\n    try {\n      new Headers();\n      new Request('http://www.example.com');\n      new Response();\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * isNative checks if the given function is a native implementation\n   */\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  function isNativeFunction(func) {\n    return func && /^function\\s+\\w+\\(\\)\\s+\\{\\s+\\[native code\\]\\s+\\}$/.test(func.toString());\n  }\n\n  /**\n   * Tells whether current environment supports Fetch API natively\n   * {@link supportsNativeFetch}.\n   *\n   * @returns true if `window.fetch` is natively implemented, false otherwise\n   */\n  function supportsNativeFetch() {\n    if (typeof EdgeRuntime === 'string') {\n      return true;\n    }\n    if (!supportsFetch()) {\n      return false;\n    }\n\n    // Fast path to avoid DOM I/O\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    if (isNativeFunction(WINDOW.fetch)) {\n      return true;\n    }\n\n    // window.fetch is implemented, but is polyfilled or already wrapped (e.g: by a chrome extension)\n    // so create a \"pure\" iframe to see if that has native fetch\n    let result = false;\n    const doc = WINDOW.document;\n    // eslint-disable-next-line deprecation/deprecation\n    if (doc && typeof doc.createElement === 'function') {\n      try {\n        const sandbox = doc.createElement('iframe');\n        sandbox.hidden = true;\n        doc.head.appendChild(sandbox);\n        if (sandbox.contentWindow && sandbox.contentWindow.fetch) {\n          // eslint-disable-next-line @typescript-eslint/unbound-method\n          result = isNativeFunction(sandbox.contentWindow.fetch);\n        }\n        doc.head.removeChild(sandbox);\n      } catch (err) {\n        _debugBuild.DEBUG_BUILD && _logger.logger.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', err);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Tells whether current environment supports ReportingObserver API\n   * {@link supportsReportingObserver}.\n   *\n   * @returns Answer to the given question.\n   */\n  function supportsReportingObserver() {\n    return 'ReportingObserver' in WINDOW;\n  }\n\n  /**\n   * Tells whether current environment supports Referrer Policy API\n   * {@link supportsReferrerPolicy}.\n   *\n   * @returns Answer to the given question.\n   */\n  function supportsReferrerPolicy() {\n    // Despite all stars in the sky saying that Edge supports old draft syntax, aka 'never', 'always', 'origin' and 'default'\n    // (see https://caniuse.com/#feat=referrer-policy),\n    // it doesn't. And it throws an exception instead of ignoring this parameter...\n    // REF: https://github.com/getsentry/raven-js/issues/1233\n\n    if (!supportsFetch()) {\n      return false;\n    }\n    try {\n      new Request('_', {\n        referrerPolicy: 'origin'\n      });\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});","lineCount":170,"map":[[13,2,1,0],[13,6,1,0,"_debugBuild"],[13,17,1,0],[13,20,1,0,"require"],[13,27,1,0],[13,28,1,0,"_dependencyMap"],[13,42,1,0],[14,2,2,0],[14,6,2,0,"_logger"],[14,13,2,0],[14,16,2,0,"require"],[14,23,2,0],[14,24,2,0,"_dependencyMap"],[14,38,2,0],[15,2,3,0],[15,6,3,0,"_worldwide"],[15,16,3,0],[15,19,3,0,"require"],[15,26,3,0],[15,27,3,0,"_dependencyMap"],[15,41,3,0],[16,2,5,0],[16,8,5,6,"WINDOW"],[16,14,5,12],[16,17,5,15,"GLOBAL_OBJ"],[16,38,5,25],[18,2,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,2,13,0],[24,11,13,9,"supportsErrorEvent"],[24,29,13,27,"supportsErrorEvent"],[24,30,13,27],[24,32,13,30],[25,4,14,2],[25,8,14,6],[26,6,15,4],[26,10,15,8,"ErrorEvent"],[26,20,15,18],[26,21,15,19],[26,23,15,21],[26,24,15,22],[27,6,16,4],[27,13,16,11],[27,17,16,15],[28,4,17,2],[28,5,17,3],[28,6,17,4],[28,13,17,11,"e"],[28,14,17,12],[28,16,17,14],[29,6,18,4],[29,13,18,11],[29,18,18,16],[30,4,19,2],[31,2,20,0],[33,2,22,0],[34,0,23,0],[35,0,24,0],[36,0,25,0],[37,0,26,0],[38,0,27,0],[39,2,28,0],[39,11,28,9,"supportsDOMError"],[39,27,28,25,"supportsDOMError"],[39,28,28,25],[39,30,28,28],[40,4,29,2],[40,8,29,6],[41,6,30,4],[42,6,31,4],[43,6,32,4],[44,6,33,4],[44,10,33,8,"DOMError"],[44,18,33,16],[44,19,33,17],[44,21,33,19],[44,22,33,20],[45,6,34,4],[45,13,34,11],[45,17,34,15],[46,4,35,2],[46,5,35,3],[46,6,35,4],[46,13,35,11,"e"],[46,14,35,12],[46,16,35,14],[47,6,36,4],[47,13,36,11],[47,18,36,16],[48,4,37,2],[49,2,38,0],[51,2,40,0],[52,0,41,0],[53,0,42,0],[54,0,43,0],[55,0,44,0],[56,0,45,0],[57,2,46,0],[57,11,46,9,"supportsDOMException"],[57,31,46,29,"supportsDOMException"],[57,32,46,29],[57,34,46,32],[58,4,47,2],[58,8,47,6],[59,6,48,4],[59,10,48,8,"DOMException"],[59,22,48,20],[59,23,48,21],[59,25,48,23],[59,26,48,24],[60,6,49,4],[60,13,49,11],[60,17,49,15],[61,4,50,2],[61,5,50,3],[61,6,50,4],[61,13,50,11,"e"],[61,14,50,12],[61,16,50,14],[62,6,51,4],[62,13,51,11],[62,18,51,16],[63,4,52,2],[64,2,53,0],[66,2,55,0],[67,0,56,0],[68,0,57,0],[69,0,58,0],[70,0,59,0],[71,0,60,0],[72,2,61,0],[72,11,61,9,"supportsFetch"],[72,24,61,22,"supportsFetch"],[72,25,61,22],[72,27,61,25],[73,4,62,2],[73,8,62,6],[73,10,62,8],[73,17,62,15],[73,21,62,19,"WINDOW"],[73,27,62,25],[73,28,62,26],[73,30,62,28],[74,6,63,4],[74,13,63,11],[74,18,63,16],[75,4,64,2],[76,4,66,2],[76,8,66,6],[77,6,67,4],[77,10,67,8,"Headers"],[77,17,67,15],[77,18,67,16],[77,19,67,17],[78,6,68,4],[78,10,68,8,"Request"],[78,17,68,15],[78,18,68,16],[78,42,68,40],[78,43,68,41],[79,6,69,4],[79,10,69,8,"Response"],[79,18,69,16],[79,19,69,17],[79,20,69,18],[80,6,70,4],[80,13,70,11],[80,17,70,15],[81,4,71,2],[81,5,71,3],[81,6,71,4],[81,13,71,11,"e"],[81,14,71,12],[81,16,71,14],[82,6,72,4],[82,13,72,11],[82,18,72,16],[83,4,73,2],[84,2,74,0],[86,2,76,0],[87,0,77,0],[88,0,78,0],[89,2,79,0],[90,2,80,0],[90,11,80,9,"isNativeFunction"],[90,27,80,25,"isNativeFunction"],[90,28,80,26,"func"],[90,32,80,30],[90,34,80,32],[91,4,81,2],[91,11,81,9,"func"],[91,15,81,13],[91,19,81,17],[91,69,81,67],[91,70,81,68,"test"],[91,74,81,72],[91,75,81,73,"func"],[91,79,81,77],[91,80,81,78,"toString"],[91,88,81,86],[91,89,81,87],[91,90,81,88],[91,91,81,89],[92,2,82,0],[94,2,84,0],[95,0,85,0],[96,0,86,0],[97,0,87,0],[98,0,88,0],[99,0,89,0],[100,2,90,0],[100,11,90,9,"supportsNativeFetch"],[100,30,90,28,"supportsNativeFetch"],[100,31,90,28],[100,33,90,31],[101,4,91,2],[101,8,91,6],[101,15,91,13,"EdgeRuntime"],[101,26,91,24],[101,31,91,29],[101,39,91,37],[101,41,91,39],[102,6,92,4],[102,13,92,11],[102,17,92,15],[103,4,93,2],[104,4,95,2],[104,8,95,6],[104,9,95,7,"supportsFetch"],[104,22,95,20],[104,23,95,21],[104,24,95,22],[104,26,95,24],[105,6,96,4],[105,13,96,11],[105,18,96,16],[106,4,97,2],[108,4,99,2],[109,4,100,2],[110,4,101,2],[110,8,101,6,"isNativeFunction"],[110,24,101,22],[110,25,101,23,"WINDOW"],[110,31,101,29],[110,32,101,30,"fetch"],[110,37,101,35],[110,38,101,36],[110,40,101,38],[111,6,102,4],[111,13,102,11],[111,17,102,15],[112,4,103,2],[114,4,105,2],[115,4,106,2],[116,4,107,2],[116,8,107,6,"result"],[116,14,107,12],[116,17,107,15],[116,22,107,20],[117,4,108,2],[117,10,108,8,"doc"],[117,13,108,11],[117,16,108,14,"WINDOW"],[117,22,108,20],[117,23,108,21,"document"],[117,31,108,29],[118,4,109,2],[119,4,110,2],[119,8,110,6,"doc"],[119,11,110,9],[119,15,110,13],[119,22,110,21,"doc"],[119,25,110,24],[119,26,110,25,"createElement"],[119,39,110,40],[119,44,110,45],[119,54,110,55],[119,56,110,57],[120,6,111,4],[120,10,111,8],[121,8,112,6],[121,14,112,12,"sandbox"],[121,21,112,19],[121,24,112,22,"doc"],[121,27,112,25],[121,28,112,26,"createElement"],[121,41,112,39],[121,42,112,40],[121,50,112,48],[121,51,112,49],[122,8,113,6,"sandbox"],[122,15,113,13],[122,16,113,14,"hidden"],[122,22,113,20],[122,25,113,23],[122,29,113,27],[123,8,114,6,"doc"],[123,11,114,9],[123,12,114,10,"head"],[123,16,114,14],[123,17,114,15,"appendChild"],[123,28,114,26],[123,29,114,27,"sandbox"],[123,36,114,34],[123,37,114,35],[124,8,115,6],[124,12,115,10,"sandbox"],[124,19,115,17],[124,20,115,18,"contentWindow"],[124,33,115,31],[124,37,115,35,"sandbox"],[124,44,115,42],[124,45,115,43,"contentWindow"],[124,58,115,56],[124,59,115,57,"fetch"],[124,64,115,62],[124,66,115,64],[125,10,116,8],[126,10,117,8,"result"],[126,16,117,14],[126,19,117,17,"isNativeFunction"],[126,35,117,33],[126,36,117,34,"sandbox"],[126,43,117,41],[126,44,117,42,"contentWindow"],[126,57,117,55],[126,58,117,56,"fetch"],[126,63,117,61],[126,64,117,62],[127,8,118,6],[128,8,119,6,"doc"],[128,11,119,9],[128,12,119,10,"head"],[128,16,119,14],[128,17,119,15,"removeChild"],[128,28,119,26],[128,29,119,27,"sandbox"],[128,36,119,34],[128,37,119,35],[129,6,120,4],[129,7,120,5],[129,8,120,6],[129,15,120,13,"err"],[129,18,120,16],[129,20,120,18],[130,8,121,6,"DEBUG_BUILD"],[130,31,121,17],[130,35,122,8,"logger"],[130,49,122,14],[130,50,122,15,"warn"],[130,54,122,19],[130,55,122,20],[130,136,122,101],[130,138,122,103,"err"],[130,141,122,106],[130,142,122,107],[131,6,123,4],[132,4,124,2],[133,4,126,2],[133,11,126,9,"result"],[133,17,126,15],[134,2,127,0],[136,2,129,0],[137,0,130,0],[138,0,131,0],[139,0,132,0],[140,0,133,0],[141,0,134,0],[142,2,135,0],[142,11,135,9,"supportsReportingObserver"],[142,36,135,34,"supportsReportingObserver"],[142,37,135,34],[142,39,135,37],[143,4,136,2],[143,11,136,9],[143,30,136,28],[143,34,136,32,"WINDOW"],[143,40,136,38],[144,2,137,0],[146,2,139,0],[147,0,140,0],[148,0,141,0],[149,0,142,0],[150,0,143,0],[151,0,144,0],[152,2,145,0],[152,11,145,9,"supportsReferrerPolicy"],[152,33,145,31,"supportsReferrerPolicy"],[152,34,145,31],[152,36,145,34],[153,4,146,2],[154,4,147,2],[155,4,148,2],[156,4,149,2],[158,4,151,2],[158,8,151,6],[158,9,151,7,"supportsFetch"],[158,22,151,20],[158,23,151,21],[158,24,151,22],[158,26,151,24],[159,6,152,4],[159,13,152,11],[159,18,152,16],[160,4,153,2],[161,4,155,2],[161,8,155,6],[162,6,156,4],[162,10,156,8,"Request"],[162,17,156,15],[162,18,156,16],[162,21,156,19],[162,23,156,21],[163,8,157,6,"referrerPolicy"],[163,22,157,20],[163,24,157,22],[164,6,158,4],[164,7,158,5],[164,8,158,6],[165,6,159,4],[165,13,159,11],[165,17,159,15],[166,4,160,2],[166,5,160,3],[166,6,160,4],[166,13,160,11,"e"],[166,14,160,12],[166,16,160,14],[167,6,161,4],[167,13,161,11],[167,18,161,16],[168,4,162,2],[169,2,163,0],[170,0,163,1],[170,3]],"functionMap":{"names":["<global>","supportsErrorEvent","supportsDOMError","supportsDOMException","supportsFetch","isNativeFunction","supportsNativeFetch","supportsReportingObserver","supportsReferrerPolicy"],"mappings":"AAA;ACY;CDO;AEQ;CFU;AGQ;CHO;AIQ;CJa;AKM;CLE;AMQ;CNqC;AOQ;CPE;AQQ;CRkB"}},"type":"js/module"}]}